{"componentChunkName":"component---node-modules-pauliescanlon-gatsby-theme-terminal-src-layouts-source-layout-js","path":"/posts/2019/11/24/gatsby-remark-sticky-table/","result":{"data":{"mdx":{"id":"59967889-ac10-5f38-ac8c-72f22a0176b3","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"gatsby-remark-sticky-table\",\n  \"tags\": [\"Gatsby\", \"Gatsby Plugins\"],\n  \"date\": \"2019-12-14T00:00:00.000Z\",\n  \"author\": \"Paul Scanlon\",\n  \"featuredImageUrl\": \"https://res.cloudinary.com/www-paulie-dev/image/upload/v1595915540/paulie.dev/2019/11/24/gatsby-remark-sticky-table_wn2ozg.jpg\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"At the time of writing this post\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/PaulieScanlon/gatsby-remark-sticky-table\"\n  }), \"gatsby-remark-sticky-table\"), \" is still very much\\nexperimental, it is functional and has had mild testing.\"), mdx(\"h4\", null, \"So what is it?\"), mdx(\"p\", null, \"It's a plugin to help make the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<table>\"), \" great again!\"), mdx(\"h2\", null, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"https://gatsby-remark-sticky-table.netlify.com/\"\n  }), \"demo \\uD83E\\uDDF2\")), mdx(\"p\", null, \"My motivation is that HTML \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<table>\"), \" elements used to be all we had, and now i feel they've been forgotten a bit, and\\nwith the rise of markdown in tech blogs i want to breath some new life in to an HTML element that used to dominate the\\nweb!\"), mdx(\"p\", null, \"There are a number of good examples out there that manage tables, most will either use a sticky header or sticky first\\ncolumn but in markdown you can't really do much...\"), mdx(\"p\", null, \"Well that's what i thought at first, until i started reading about \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/remarkjs/remark\"\n  }), \"remark\"), \" and\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/syntax-tree/unist-util-visit\"\n  }), \"unist-util-visit\"), \" which give me a better understanding of how markdown\\ngets transformed into HTML.\"), mdx(\"p\", null, \"I then stumbled upon this great little tutorial\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gatsbyjs.org/docs/remark-plugin-tutorial/\"\n  }), \"https://www.gatsbyjs.org/docs/remark-plugin-tutorial/\"), \" in short\\nwhat it shows is how to grab references to nodes from markdown and then modify them before passing them back as HTML\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"const visit = require('unist-util-visit')\\nconst toString = require('mdast-util-to-string')\\n\\nmodule.exports = ({ markdownAST }, pluginOptions) => {\\n  visit(markdownAST, 'heading', (node) => {\\n    let { depth } = node\\n    if (depth !== 1) return\\n    let text = toString(node)\\n    const HTML = `\\n        <h1 style=\\\"color: rebeccapurple\\\">\\n          ${text}\\n        </h1>\\n      `\\n    node.type = 'HTML'\\n    node.children = undefined\\n    node.value = HTML\\n  })\\n\\n  return markdownAST\\n}\\n\")), mdx(\"p\", null, \"In the above code snippet we can \\\"visit\\\" the markdownAST and look for the \\\"heading\\\" node, later on we check to see if\\nthe node has a depth of 1, this is an HTML \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<h1>\"), \" if we wanted to visit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<h2>\"), \" element we could look for a depth of\\n2 ... you get the idea.\"), mdx(\"p\", null, \"Once you've grabbed the HTML element you want to modify you can do whatever you like with it and then return it as HTML.\"), mdx(\"p\", null, \"This in short is how i've created\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/PaulieScanlon/gatsby-remark-sticky-table\"\n  }), \"gatsby-remark-sticky-table\"), \".\"), mdx(\"p\", null, \"The next bit is really just css. Once i have a reference to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<thead>\"), \" i can traverse the AST nodes until i find the\\nfirst \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<th>\"), \" and inline apply a small amount of css to it.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-css\"\n  }), \"position: sticky;\\ndisplay: table-cell;\\nwidth: auto;\\nmin-width: auto;\\nwhite-space: nowrap;\\ntop: 0px;\\nz-index: 2;\\n\")), mdx(\"p\", null, \"This creates the 'sticky' header effect i was after but...\"), mdx(\"p\", null, \"..there's another little trick going on, and that's to wrap everything related to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<table>\"), \" in two additional\\ncontainer divs which allows me to set overflows and heights and allows the 'sticky' header to stick to it's nearest\\nrelatively positioned parent.\"), mdx(\"p\", null, \"Each element has also been given a class which should be sufficient for anyone using the plugin to style the table any\\nway they wish.\"), mdx(\"p\", null, \"I'd really appreciate issues, comments or stars on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/PaulieScanlon/gatsby-remark-sticky-table\"\n  }), \"Github\"), \"\\nso if you are using this plugin in your project please do let me know what you think\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://twitter.com/PaulieScanlon\"\n  }), \"@pauliescanlon\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"At the time of writing this post\n gatsby-remark-sticky-table  is still very much\nexperimental, it is functional and has had mild testing. Soâ€¦","timeToRead":2,"wordCount":{"words":401},"slug":"2019/11/24/gatsby-remark-sticky-table","frontmatter":{"title":"gatsby-remark-sticky-table","tags":["Gatsby","Gatsby Plugins"],"date":"2019-12-14T00:00:00.000Z","dateModified":null,"author":"Paul Scanlon","status":null,"isPrivate":null,"url":null,"misc":null,"pinned":null,"featuredImage":null,"embeddedImages":null},"featuredImageUrl":{"url":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAALABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdfYJB//xAAVEAEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAQABBQIr/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGBAAAgMAAAAAAAAAAAAAAAAAEBEBIUH/2gAIAQEAAT8hS5Rw/wD/2gAMAwEAAgADAAAAENPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAQEBAAMAAAAAAAAAAAAAAQARMSFBgf/aAAgBAQABPxDLwFd7aiBkN7fZ6Rf/2Q=="},"images":{"fallback":{"src":"/static/245bc6fa713151a767bfc94f8249211f/59894/gatsby-remark-sticky-table_wn2ozg.jpg","srcSet":"/static/245bc6fa713151a767bfc94f8249211f/5de87/gatsby-remark-sticky-table_wn2ozg.jpg 750w,\n/static/245bc6fa713151a767bfc94f8249211f/a1c7d/gatsby-remark-sticky-table_wn2ozg.jpg 1080w,\n/static/245bc6fa713151a767bfc94f8249211f/3141f/gatsby-remark-sticky-table_wn2ozg.jpg 1366w,\n/static/245bc6fa713151a767bfc94f8249211f/59894/gatsby-remark-sticky-table_wn2ozg.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/245bc6fa713151a767bfc94f8249211f/5846e/gatsby-remark-sticky-table_wn2ozg.avif 750w,\n/static/245bc6fa713151a767bfc94f8249211f/92457/gatsby-remark-sticky-table_wn2ozg.avif 1080w,\n/static/245bc6fa713151a767bfc94f8249211f/64926/gatsby-remark-sticky-table_wn2ozg.avif 1366w,\n/static/245bc6fa713151a767bfc94f8249211f/0db38/gatsby-remark-sticky-table_wn2ozg.avif 1920w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/245bc6fa713151a767bfc94f8249211f/d02c5/gatsby-remark-sticky-table_wn2ozg.webp 750w,\n/static/245bc6fa713151a767bfc94f8249211f/a2563/gatsby-remark-sticky-table_wn2ozg.webp 1080w,\n/static/245bc6fa713151a767bfc94f8249211f/2933d/gatsby-remark-sticky-table_wn2ozg.webp 1366w,\n/static/245bc6fa713151a767bfc94f8249211f/9e479/gatsby-remark-sticky-table_wn2ozg.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5625}}}},"embeddedImageUrls":null,"fields":{"slug":"/posts/2019/11/24/gatsby-remark-sticky-table/","owner":"source","parent":"posts"}}},"pageContext":{"id":"59967889-ac10-5f38-ac8c-72f22a0176b3","prev":{"frontmatter":{"title":"gatsby-mdx-routes","status":null},"fields":{"slug":"/posts/2019/12/12/gatsby-mdx-routes/"}},"next":{"frontmatter":{"title":"gatsby-theme-gatstats","status":null},"fields":{"slug":"/posts/2019/11/12/gatsby-theme-gatstats/"}},"parent":"posts"}},"staticQueryHashes":["1095393795","1469902088","2504239491","3642847879","571831435"]}
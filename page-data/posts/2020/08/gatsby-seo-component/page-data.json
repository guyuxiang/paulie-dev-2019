{"componentChunkName":"component---node-modules-pauliescanlon-gatsby-theme-terminal-src-layouts-source-layout-js","path":"/posts/2020/08/gatsby-seo-component/","result":{"data":{"mdx":{"id":"b28dd35e-4139-5c7c-8907-3b50f35fe202","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Gatsby SEO Component\",\n  \"tags\": [\"Gatsby\", \"JavaScript\"],\n  \"date\": \"2020-08-24T00:00:00.000Z\",\n  \"author\": \"Paul Scanlon\",\n  \"featuredImageUrl\": \"https://res.cloudinary.com/www-paulie-dev/image/upload/v1598260412/paulie.dev/2020/08/gatsby-seo-component_htjrpq.jpg\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Divider = makeShortcode(\"Divider\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In this post i'm going to explain how to create an Seo component for use in a Gatsby application or site, I seem to\\nalways end up writing this over and over again so first and foremost this is for my reference but if you're interested\\nread on.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://gatsby-seo-component.netlify.app/\"\n  }), \"Demo Site\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/PaulieScanlon/gatsby-seo-component\"\n  }), \"Demo Repo\"))), mdx(\"p\", null, \"For the component to work we'll also need to install \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/nfl/react-helmet\"\n  }), \"react-helment\"), \" and a Gatsby\\nplugin \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-plugin-react-helmet\"\n  }), \"gatsby-plugin-react-helmet\")), mdx(\"p\", null, \"Install the following dependencies to get started \\uD83D\\uDC47\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"npm install react-helmet gatsby-plugin-react-helmet --save\\n\")), mdx(Divider, {\n    mdxType: \"Divider\"\n  }), mdx(\"p\", null, \"Then open up your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \" and add the plugin to the plugins array\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// gatsby-config.js\\nmodule.exports = {\\n  plugins: [`gatsby-plugin-react-helmet`],\\n}\\n\")), mdx(Divider, {\n    mdxType: \"Divider\"\n  }), mdx(\"p\", null, \"While we're in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"gatsby-config.js\"), \" have a look over what keys you have in you \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"siteMetadata\"), \", this is a standard one I've\\nused a few times and has most of what you'll need to pass on to the Seo component when we build it in a moment.\"), mdx(Divider, {\n    mdxType: \"Divider\"\n  }), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-diff\"\n  }), \"// gatsby-config.js\\nmodule.exports = {\\n+  siteMetadata: {\\n+    title: 'Mr Website',\\n+    description: 'A website about Mr Website',\\n+    keywords: ['React', 'Gatsby', 'Jamstack'],\\n+    url: 'https://gatsby-seo-component.netlify.app',\\n+    ogImage: 'images/og-image.jpg',\\n+    favicon: {\\n+      ico: 'images/favicon.ico',\\n+      sm: 'images/favicon-16x16.png',\\n+      lg: 'images/favicon-32x32.png'\\n+    },\\n+    lang: `en`\\n+  },\\n  plugins: [`gatsby-plugin-react-helmet`],\\n}\\n\")), mdx(Divider, {\n    mdxType: \"Divider\"\n  }), mdx(\"p\", null, \"I'd like to point one thing out here and that's the path to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".jpg\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".ico\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".png\"), \" files. Those paths relate to\\nan \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"images\"), \" directory that I've created in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"./static\"), \". The static directory is where Gatsby looks to load statically\\nserved content. For the above to work your directory structure would probably look a bit like this \\uD83D\\uDC47\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"src\\n   |-- pages\\n   |-- components\\n   |-- utils\\nstatic\\n   |-- images\\ngatsby-config.js\\npackage.json\\n\")), mdx(Divider, {\n    mdxType: \"Divider\"\n  }), mdx(\"p\", null, \"No we can build the component.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/components/seo.js\\nimport React from 'react'\\nimport PropTypes from 'prop-types'\\nimport { Helmet } from 'react-helmet'\\n\\nexport const Seo = ({ title, description, keywords, url, ogImage, favicon, lang, type, page, path }) => {\\n  return (\\n    <Helmet>\\n      <title>{`${title} | ${page}`}</title>\\n      <html lang={lang} />\\n      <meta name=\\\"description\\\" content={description} />\\n      <meta name=\\\"image\\\" content={`${url}/${ogImage}`} />\\n      <meta name=\\\"image:alt\\\" content={description} />\\n      <meta name=\\\"keywords\\\" content={keywords.join(', ')} />\\n\\n      <link rel=\\\"icon\\\" type=\\\"image/png\\\" sizes=\\\"16x16\\\" href={`${url}/${favicon.ico}`} />\\n\\n      <link rel=\\\"icon\\\" type=\\\"image/png\\\" sizes=\\\"16x16\\\" href={`${url}/${favicon.sm}`} />\\n\\n      <link rel=\\\"icon\\\" type=\\\"image/png\\\" sizes=\\\"32x32\\\" href={`${url}/${favicon.lg}`} />\\n\\n      {/* Facebook */}\\n      <meta property=\\\"og:type\\\" content={type} />\\n      <meta property=\\\"og:title\\\" content={page} />\\n      <meta property=\\\"og:url\\\" content={`${url}${path}`} />\\n      <meta property=\\\"og:description\\\" content={description} />\\n      <meta property=\\\"og:image\\\" content={`${url}/${ogImage}`} />\\n      <meta property=\\\"og:image:alt\\\" content={description}></meta>\\n\\n      {/* Twitter */}\\n      <meta name=\\\"twitter:card\\\" content=\\\"summary_large_image\\\" />\\n      <meta name=\\\"twitter:title\\\" content={page} />\\n      <meta name=\\\"twitter:url\\\" content={`${url}${path}`} />\\n      <meta name=\\\"twitter:description\\\" content={description} />\\n      <meta name=\\\"twitter:image\\\" content={`${url}/${ogImage}`} />\\n      <meta name=\\\"twitter:image:alt\\\" content={description}></meta>\\n    </Helmet>\\n  )\\n}\\n\\nSeo.propTypes = {\\n  /** The site title */\\n  title: PropTypes.string.isRequired,\\n  /** The site description */\\n  description: PropTypes.string.isRequired,\\n  /** Keywords to use in meta keywords */\\n  keywords: PropTypes.arrayOf(PropTypes.string),\\n  /** The site URL */\\n  url: PropTypes.string.isRequired,\\n  /** Image url to use for opengraph image */\\n  ogImage: PropTypes.string,\\n  /** Favicon image urls**/\\n  favicon: PropTypes.shape({\\n    ico: PropTypes.string,\\n    sm: PropTypes.string,\\n    lg: PropTypes.string,\\n  }),\\n  /** Lang to use as meta lang */\\n  lang: PropTypes.string.isRequired,\\n  /** The type of meta - useful for Facebook */\\n  type: PropTypes.oneOf(['website', 'article']).isRequired,\\n  /** The page name */\\n  page: PropTypes.string.isRequired,\\n  /** The path to the page */\\n  path: PropTypes.string.isRequired,\\n}\\n\")), mdx(Divider, {\n    mdxType: \"Divider\"\n  }), mdx(\"p\", null, \"You should be able to see from each of the prop descriptions what each one does and from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"title\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lang\"), \" you'll be\\nusing the values from \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"siteMetadata\"), \"... more on that in a moment.\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"type\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"page\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"path\"), \" will most likely be unique to each page of your site so we won't pull this out of the\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"siteMetadata\"), \" instead I'll show you how to pass those in as props... more on that in moment too.\"), mdx(\"p\", null, \"There's now two key steps to making this work you can do them in either order.\"), mdx(\"h3\", null, \"useSiteMetadata hook\"), mdx(\"p\", null, \"This is a utility function that can be used in conjunction with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useStaticQuery\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"graphql\"), \" from \\\"gatsby\\\"\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/utils/useSiteMetadata.js\\n\\nimport { useStaticQuery, graphql } from 'gatsby'\\n\\nexport const useSiteMetadata = () => {\\n  return useStaticQuery(\\n    graphql`\\n      query {\\n        site {\\n          siteMetadata {\\n            title\\n            description\\n            keywords\\n            url\\n            ogImage\\n            favicon {\\n              ico\\n              sm\\n              lg\\n            }\\n            lang\\n          }\\n        }\\n      }\\n    `,\\n  )\\n}\\n\")), mdx(\"h3\", null, \"Add Seo component to pages\"), mdx(\"p\", null, \"The simplest approach is to import the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Seo\"), \" component and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useSiteMetadata\"), \" hook for each \", \"[page]\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".js\"), \" from\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/pages\"), \". The better approach is to create a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"page layout\"), \" component but I won't cover that in this post.\"), mdx(\"p\", null, \"To implement the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Seo\"), \" component each \", \"[page]\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".js\"), \" \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"might\"), \" look something like this \\uD83D\\uDC47\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"// src/pages/index.js\\nimport React, { Fragment } from 'react'\\nimport { Link } from 'gatsby'\\nimport { Seo } from '../components/seo'\\nimport { useSiteMetadata } from '../utils/useSiteMetadata'\\n\\nconst IndexPage = () => {\\n  const {\\n    site: {\\n      siteMetadata: { title, description, keywords, url, ogImage, favicon, lang },\\n    },\\n  } = useSiteMetadata()\\n\\n  return (\\n    <Fragment>\\n      <Seo\\n        title={title}\\n        description={description}\\n        keywords={keywords}\\n        url={url}\\n        ogImage={ogImage}\\n        favicon={favicon}\\n        lang={lang}\\n        type=\\\"website\\\"\\n        page=\\\"Home\\\"\\n        path=\\\"\\\"\\n      />\\n      <h1>This is index.js</h1>\\n      ...\\n    </Fragment>\\n  )\\n}\\n\\nexport default IndexPage\\n\")), mdx(Divider, {\n    mdxType: \"Divider\"\n  }), mdx(\"p\", null, \"I've destructured all the props in the above code snippet but you can of course use JavaScript's native spread operator\\nto achieve the same thing but in the interest of making this post as clear as possible I'll try and avoid\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.reddit.com/r/restofthefuckingowl/\"\n  }), \"draw the rest of the fucking owl\")), mdx(\"p\", null, \"You should also see near the bottom you can see where i've added values for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"type\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"page\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"path\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"type = 'website'\\npage = 'Home'\\npath = ''\\n\")), mdx(Divider, {\n    mdxType: \"Divider\"\n  }), mdx(\"p\", null, \"As always there's a million ways to do the same thing but I hope this gives you some indication of one way to do it but\\nin most cases you'll likely need to make a change here and there.... and that's absolutely fine!\"), mdx(\"h3\", null, \"SEO Validation\"), mdx(\"p\", null, \"There's a few ways to test if your meta data is working correctly, the following are two links I use to preview what my\\nmeta data will render as if I post a link to either Twitter or Facebook\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://cards-dev.twitter.com/validator\"\n  }), \"Twitter Card Validator\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://developers.facebook.com/tools/debug/\"\n  }), \"Facebook Debugger\"))));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"In this post i'm going to explain how to create an Seo component for use in a Gatsby application or site, I seem to\nalways end up writing…","timeToRead":2,"wordCount":{"words":493},"slug":"2020/08/gatsby-seo-component","frontmatter":{"title":"Gatsby SEO Component","tags":["Gatsby","JavaScript"],"date":"2020-08-24T00:00:00.000Z","dateModified":null,"author":"Paul Scanlon","status":null,"isPrivate":null,"url":null,"misc":null,"pinned":null,"featuredImage":null,"embeddedImages":null},"featuredImageUrl":{"url":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIFAQb/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB6+PcRMHF/8QAGhAAAQUBAAAAAAAAAAAAAAAAAQACAwQRQf/aAAgBAQABBQLDtizbjmYSWLq//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHhAAAgIABwAAAAAAAAAAAAAAAQIAEQMEEiAhUaH/2gAIAQEABj8Cu/IVwsvrXuKWFEjkbP/EABkQAAIDAQAAAAAAAAAAAAAAAAERACAhUf/aAAgBAQABPyE5ACEbdJTsVwQ8DR//2gAMAwEAAgADAAAAEI/P/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qp//EAB0QAQABAwUAAAAAAAAAAAAAAAERABAhQVFhgZH/2gAIAQEAAT8Qa5UayfZp75U6ZApjZxXK1kIFOm0siW3/2Q=="},"images":{"fallback":{"src":"/static/99ffaa28861c3e12ad64c5dcb4b39ad7/ccd19/gatsby-seo-component_htjrpq.jpg","srcSet":"/static/99ffaa28861c3e12ad64c5dcb4b39ad7/5de87/gatsby-seo-component_htjrpq.jpg 750w,\n/static/99ffaa28861c3e12ad64c5dcb4b39ad7/ccd19/gatsby-seo-component_htjrpq.jpg 1024w","sizes":"100vw"},"sources":[{"srcSet":"/static/99ffaa28861c3e12ad64c5dcb4b39ad7/5846e/gatsby-seo-component_htjrpq.avif 750w,\n/static/99ffaa28861c3e12ad64c5dcb4b39ad7/47b7d/gatsby-seo-component_htjrpq.avif 1024w","type":"image/avif","sizes":"100vw"},{"srcSet":"/static/99ffaa28861c3e12ad64c5dcb4b39ad7/d02c5/gatsby-seo-component_htjrpq.webp 750w,\n/static/99ffaa28861c3e12ad64c5dcb4b39ad7/d819f/gatsby-seo-component_htjrpq.webp 1024w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5625}}}},"embeddedImageUrls":null,"fields":{"slug":"/posts/2020/08/gatsby-seo-component/","owner":"source","parent":"posts"}}},"pageContext":{"id":"b28dd35e-4139-5c7c-8907-3b50f35fe202","prev":{"frontmatter":{"title":"Gatsby Cloud is Your (Good) Friend","status":null},"fields":{"slug":"/writing/2020/09/gatsby-cloud-good-friend/"}},"next":{"frontmatter":{"title":"styled-components Responsive Array Syntax","status":null},"fields":{"slug":"/posts/2020/08/styled-components-responsive-array-syntax/"}},"parent":"posts"}},"staticQueryHashes":["1095393795","1469902088","2504239491","3642847879","571831435"]}
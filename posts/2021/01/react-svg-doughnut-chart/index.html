<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.9.1"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">Paul Scanlon | Create an Svg Doughnut Chart from scratch for your Gatsby blog</title><link data-react-helmet="true" rel="canonical" href="https://paulie.dev/posts/2021/01/react-svg-doughnut-chart/"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="https://paulie.dev/images/favicon-16x16.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="https://paulie.dev/images/favicon-32x32.png"/><meta data-react-helmet="true" name="description" content="Charting libraries are great don&#x27;t get me wrong but sometimes... you just need a bloody doughnut! 🍩 This post is largely based on this…"/><meta data-react-helmet="true" name="image" content="https://paulie.dev/static/fd56950268dc0c0f2a867f217495207a/ccd19/react-svg-doughnut-chart_u7wza7.jpg"/><meta data-react-helmet="true" name="image:alt" content="Charting libraries are great don&#x27;t get me wrong but sometimes... you just need a bloody doughnut! 🍩 This post is largely based on this…"/><meta data-react-helmet="true" name="gatsby-theme" content="@pauliescanlon/gatsby-theme-terminal"/><meta data-react-helmet="true" name="keywords" content="JavaScript, React, SVG, Gatsby, CSS"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Paul Scanlon | Create an Svg Doughnut Chart from scratch for your Gatsby blog"/><meta data-react-helmet="true" property="og:url" content="https://paulie.dev/posts/2021/01/react-svg-doughnut-chart/"/><meta data-react-helmet="true" property="og:description" content="Charting libraries are great don&#x27;t get me wrong but sometimes... you just need a bloody doughnut! 🍩 This post is largely based on this…"/><meta data-react-helmet="true" property="og:image" content="https://paulie.dev/static/fd56950268dc0c0f2a867f217495207a/ccd19/react-svg-doughnut-chart_u7wza7.jpg"/><meta data-react-helmet="true" property="og:image:alt" content="Charting libraries are great don&#x27;t get me wrong but sometimes... you just need a bloody doughnut! 🍩 This post is largely based on this…"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Paul Scanlon | Create an Svg Doughnut Chart from scratch for your Gatsby blog"/><meta data-react-helmet="true" name="twitter:url" content="https://paulie.dev/posts/2021/01/react-svg-doughnut-chart/"/><meta data-react-helmet="true" name="twitter:description" content="Charting libraries are great don&#x27;t get me wrong but sometimes... you just need a bloody doughnut! 🍩 This post is largely based on this…"/><meta data-react-helmet="true" name="twitter:image" content="https://paulie.dev/static/fd56950268dc0c0f2a867f217495207a/ccd19/react-svg-doughnut-chart_u7wza7.jpg"/><meta data-react-helmet="true" name="twitter:image:alt" content="Charting libraries are great don&#x27;t get me wrong but sometimes... you just need a bloody doughnut! 🍩 This post is largely based on this…"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-726102780cf60763912e.js"/><link as="script" rel="preload" href="/framework-f529910135bad2ebbecb.js"/><link as="script" rel="preload" href="/3fdc7b2a-5f196eb3bd8f933faf2a.js"/><link as="script" rel="preload" href="/4544e8b5-d43da755820dd1c1cf17.js"/><link as="script" rel="preload" href="/app-1156a7defb479b22e254.js"/><link as="script" rel="preload" href="/e746256f0bd173c9e62f05f8ee5a1711802fea06-5ec41632f3b7b7777480.js"/><link as="script" rel="preload" href="/component---node-modules-pauliescanlon-gatsby-theme-terminal-src-layouts-source-layout-js-33fa87acf1e354ee3582.js"/><link as="fetch" rel="preload" href="/page-data/posts/2021/01/react-svg-doughnut-chart/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1095393795.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1469902088.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2504239491.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3642847879.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/571831435.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="1s83cp">body{color:var(--theme-ui-colors-text,#FFFFFF);background-color:var(--theme-ui-colors-background,#131127);}</style><style data-emotion-css="1q0842s">*{box-sizing:border-box;}body{margin:0;font-family:Inconsolata,monospace;font-weight:400;font-size:16px;line-height:1.75;}body a{-webkit-transition:.2s linear box-shadow;transition:.2s linear box-shadow;}body a:focus{outline:none;box-shadow:0 2px 0 0 var(--theme-ui-colors-primary,#f056c7);}body .mdx-embed .twitter-tweet-mdx-embed{min-height:500px;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1r5sify">@font-face{font-family:'Inconsolata';src:url('https://paulie.dev/fonts/Inconsolata-Regular.woff2') format('woff2');font-weight:400;font-style:normal;}@font-face{font-family:'Inconsolata';src:url('https://paulie.dev/fonts/Inconsolata-Bold.woff2') format('woff2');font-weight:700;font-style:normal;}</style><style data-emotion-css="1ancl7q">.css-1ancl7q{box-sizing:border-box;margin:0;min-width:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--theme-ui-colors-background,#131127);border-bottom:1px solid var(--theme-ui-colors-surface,#232140);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:48px;margin-left:0;overflow:hidden;position:fixed;padding-left:16px;padding-right:16px;width:100%;z-index:997;}@media screen and (min-width:40em){.css-1ancl7q{margin-left:0;padding-left:32px;padding-right:32px;width:100%;}}@media screen and (min-width:52em){.css-1ancl7q{margin-left:0;width:100%;}}@media screen and (min-width:64em){.css-1ancl7q{margin-left:200px;width:calc(100% - 200px);}}</style><header class="css-1ancl7q"><style data-emotion-css="144mmht">.css-144mmht{box-sizing:border-box;margin:0;min-width:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media screen and (min-width:40em){.css-144mmht{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media screen and (min-width:52em){.css-144mmht{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media screen and (min-width:64em){.css-144mmht{display:none;}}</style><div class="css-144mmht"><style data-emotion-css="inb1s9">.css-inb1s9:focus{outline:none;-webkit-transition:.2s linear box-shadow;transition:.2s linear box-shadow;box-shadow:0 2px 0 0 var(--theme-ui-colors-primary,#f056c7);}</style><a title="Paul Scanlon&#x27;s Blog" class="css-inb1s9" href="/"><style data-emotion-css="19lo1oj">.css-19lo1oj{height:25px;overflow:hidden;}</style><div class="css-19lo1oj"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130 35" width="130px" height="35px"><g><style data-emotion-css="1phxv3p">.css-1phxv3p{fill:var(--theme-ui-colors-success,#58e6d9);}</style><path d="M2.6,12.5c0-5.1,4.2-9.4,9.4-9.4l0,0V0.5c-3,0-5.6,1-7.8,2.9c-5,4.4-5.5,11.9-1.2,16.9l2-1.7 C3.5,17,2.6,14.8,2.6,12.5z" class="css-1phxv3p"></path><style data-emotion-css="2likdo">.css-2likdo{fill:var(--theme-ui-colors-secondary,#c39eff);}</style><path d="M12,21.9c-2.8,0-5.4-1.2-7.1-3.2l-2,1.7c0.4,0.5,0.9,0.9,1.4,1.3c5,4.3,12.6,3.6,16.8-1.5l-2-1.7 C17.4,20.6,14.8,21.9,12,21.9z" class="css-2likdo"></path><style data-emotion-css="15l7r3y">.css-15l7r3y{fill:var(--theme-ui-colors-primary,#f056c7);}</style><path d="M12,0.5v2.6c5.1,0,9.4,4.2,9.4,9.4c0,2.3-0.8,4.4-2.2,6l2,1.7c1.9-2.3,2.8-4.7,2.8-7.7 C23.9,5.9,18.6,0.5,12,0.5z" class="css-15l7r3y"></path><style data-emotion-css="1ovw312">.css-1ovw312{fill:var(--theme-ui-colors-text,#FFFFFF);}</style><path d="M9.9,8.9h2.4c0.5,0,1,0.1,1.4,0.3s0.6,0.4,0.8,0.8c0.2,0.3,0.3,0.7,0.3,1.1c0,0.4-0.1,0.8-0.3,1.1 c-0.2,0.3-0.4,0.6-0.8,0.8c-0.4,0.2-0.8,0.3-1.3,0.3h-1.2V16H9.9V8.9z M12.3,12c0.4,0,0.7-0.1,0.8-0.3c0.2-0.2,0.3-0.4,0.3-0.7 c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.5-0.3-0.8-0.3h-1.1v2H12.3z" class="css-1ovw312"></path></g><g><path d="M29.5,8h3.6c0.8,0,1.5,0.1,2,0.4C35.6,8.7,36,9,36.3,9.5c0.3,0.5,0.4,1,0.4,1.6c0,0.6-0.1,1.1-0.4,1.6 s-0.6,0.8-1.2,1.1c-0.5,0.3-1.2,0.4-2,0.4h-1.7v4.3h-1.9V8z M33,12.7c0.6,0,1-0.1,1.3-0.4c0.3-0.3,0.4-0.6,0.4-1.1 c0-0.5-0.1-0.8-0.4-1.1c-0.3-0.3-0.7-0.4-1.2-0.4h-1.6v3H33z" class="css-1ovw312"></path><path d="M43.7,11.1c0.6,0.5,0.9,1.4,0.9,2.6v4.8h-1.8v-0.7c-0.3,0.3-0.7,0.5-1.1,0.7c-0.4,0.2-0.9,0.2-1.4,0.2 c-0.8,0-1.5-0.2-1.9-0.6s-0.6-1-0.6-1.7c0-0.6,0.2-1,0.5-1.4c0.4-0.4,0.9-0.7,1.5-0.9c0.7-0.2,1.5-0.3,2.4-0.3h0.6 c-0.1-0.7-0.2-1.2-0.5-1.5s-0.7-0.4-1.3-0.4c-0.4,0-0.7,0.1-1.1,0.3c-0.4,0.2-0.8,0.5-1.1,0.8l-1-1.3c0.5-0.5,1-0.8,1.6-1 c0.6-0.2,1.1-0.3,1.7-0.3C42.3,10.4,43.1,10.6,43.7,11.1z M42.3,16.8c0.3-0.4,0.5-0.9,0.6-1.7h-0.4c-1,0-1.7,0.1-2.1,0.3 s-0.7,0.5-0.7,1c0,0.3,0.1,0.5,0.3,0.7c0.2,0.1,0.5,0.2,0.9,0.2C41.6,17.3,42,17.1,42.3,16.8z" class="css-1ovw312"></path><path d="M47.2,18.1c-0.5-0.5-0.7-1.4-0.7-2.5v-5h1.9v5c0,0.6,0.1,1,0.3,1.3c0.2,0.3,0.5,0.4,0.8,0.4 c0.3,0,0.6-0.1,0.9-0.2c0.3-0.2,0.5-0.4,0.6-0.7c0.1-0.3,0.2-0.6,0.2-1v-4.8h1.9v6.6c0,0.3,0,0.6,0,0.8c0,0.2,0.1,0.4,0.1,0.5h-1.9 c-0.1-0.1-0.1-0.3-0.1-0.4c0-0.1,0-0.3,0-0.5c-0.2,0.4-0.5,0.7-0.9,0.9c-0.4,0.2-0.8,0.3-1.2,0.3C48.3,18.9,47.6,18.6,47.2,18.1z" class="css-1ovw312"></path><path d="M55.3,18.6v-1.5h2.2V8.6h-2.1V7.1h4v10h2.2v1.5H55.3z" class="css-1ovw312"></path><path d="M77.9,13.4c0.4,0.3,0.7,0.7,0.8,1s0.2,0.8,0.2,1.2c0,0.6-0.1,1.1-0.4,1.6c-0.3,0.5-0.7,0.9-1.2,1.2 c-0.6,0.3-1.3,0.5-2.1,0.5c-1.4,0-2.6-0.5-3.6-1.5l0.8-1.4l0,0l0,0c0.8,0.9,1.8,1.3,2.9,1.3c0.5,0,0.9-0.1,1.2-0.4 c0.3-0.2,0.4-0.6,0.4-1.1c0-0.2-0.1-0.5-0.2-0.7c-0.1-0.2-0.3-0.4-0.6-0.6c-0.3-0.2-0.7-0.4-1.2-0.7c-1-0.4-1.7-0.9-2.1-1.4 c-0.4-0.5-0.7-1.1-0.7-1.9c0-0.5,0.1-1,0.4-1.4c0.3-0.4,0.7-0.8,1.2-1c0.5-0.3,1.1-0.4,1.7-0.4c0.7,0,1.3,0.1,1.8,0.3 s1,0.6,1.5,1.1l-1,1.3l0,0c0,0,0,0,0,0c-0.3-0.4-0.6-0.7-1-0.9s-0.8-0.3-1.3-0.3c-0.3,0-0.6,0.1-0.8,0.2c-0.2,0.1-0.4,0.3-0.5,0.4 S74,10.2,74,10.4c0,0.2,0.1,0.5,0.2,0.7c0.1,0.2,0.4,0.4,0.7,0.6c0.3,0.2,0.8,0.4,1.4,0.7C76.9,12.8,77.5,13.1,77.9,13.4z M72.4,15.8C72.4,15.8,72.4,15.8,72.4,15.8L72.4,15.8L72.4,15.8C72.4,15.9,72.4,15.8,72.4,15.8z M72.7,15.9 C72.7,15.9,72.7,15.9,72.7,15.9c0,0-0.1,0-0.1,0c0,0-0.1,0-0.1,0l0-0.1L72.7,15.9L72.7,15.9z M77.5,10.4 C77.5,10.4,77.5,10.4,77.5,10.4C77.6,10.4,77.6,10.4,77.5,10.4c0.1,0.1,0.2,0.1,0.2,0.1l0,0L77.5,10.4L77.5,10.4z M77.8,10.6 C77.8,10.6,77.8,10.6,77.8,10.6c0,0-0.1,0-0.1,0l0-0.1C77.8,10.5,77.8,10.6,77.8,10.6z" class="css-1ovw312"></path><path d="M85.4,16.9c0.3-0.2,0.7-0.4,1-0.8l1.1,1.3c-0.4,0.5-0.9,0.8-1.4,1.1c-0.5,0.2-1.1,0.3-1.7,0.3 c-0.8,0-1.5-0.2-2.1-0.5c-0.6-0.4-1.1-0.9-1.4-1.5s-0.5-1.3-0.5-2.1c0-0.8,0.2-1.5,0.5-2.1s0.8-1.1,1.4-1.5 c0.6-0.4,1.3-0.6,2.1-0.6c0.7,0,1.3,0.1,1.8,0.4c0.6,0.3,1,0.6,1.3,1.1l-1.1,1.2l0,0c0,0,0,0,0,0c-0.2-0.4-0.5-0.7-0.8-0.9 S84.8,12,84.3,12c-0.4,0-0.7,0.1-1.1,0.3c-0.3,0.2-0.6,0.5-0.8,0.9c-0.2,0.4-0.3,0.9-0.3,1.4c0,0.5,0.1,0.9,0.3,1.3 c0.2,0.4,0.4,0.7,0.7,0.9c0.3,0.2,0.7,0.3,1.1,0.3C84.7,17.2,85,17.1,85.4,16.9z M86.2,13.2C86.2,13.2,86.2,13.2,86.2,13.2 c0,0,0.1,0,0.2,0.1l0,0L86.2,13.2L86.2,13.2z M86.5,13.3C86.5,13.4,86.5,13.4,86.5,13.3C86.5,13.4,86.4,13.3,86.5,13.3l0-0.1 C86.5,13.3,86.5,13.3,86.5,13.3z" class="css-1ovw312"></path><path d="M94.7,11.1c0.6,0.5,0.9,1.4,0.9,2.6v4.8h-1.8v-0.7c-0.3,0.3-0.7,0.5-1.1,0.7c-0.4,0.2-0.9,0.2-1.4,0.2 c-0.8,0-1.5-0.2-1.9-0.6s-0.6-1-0.6-1.7c0-0.6,0.2-1,0.5-1.4c0.4-0.4,0.9-0.7,1.5-0.9c0.7-0.2,1.5-0.3,2.4-0.3h0.6 c-0.1-0.7-0.2-1.2-0.5-1.5s-0.7-0.4-1.3-0.4c-0.4,0-0.7,0.1-1.1,0.3s-0.8,0.5-1.1,0.8l-1-1.3c0.5-0.5,1-0.8,1.6-1 c0.6-0.2,1.1-0.3,1.7-0.3C93.3,10.4,94.1,10.6,94.7,11.1z M93.3,16.8c0.3-0.4,0.5-0.9,0.6-1.7h-0.4c-1,0-1.7,0.1-2.1,0.3 s-0.7,0.5-0.7,1c0,0.3,0.1,0.5,0.3,0.7c0.2,0.1,0.5,0.2,0.9,0.2C92.5,17.3,93,17.1,93.3,16.8z" class="css-1ovw312"></path><path d="M97.7,10.6h1.9v0.8c0.3-0.3,0.6-0.6,1-0.7s0.8-0.3,1.3-0.3c0.8,0,1.4,0.3,1.8,0.8c0.5,0.5,0.7,1.4,0.7,2.5v4.8 h-1.9v-4.8c0-0.6-0.1-1-0.3-1.3c-0.2-0.3-0.5-0.4-1-0.4c-0.3,0-0.5,0.1-0.8,0.2c-0.2,0.1-0.4,0.3-0.6,0.5s-0.2,0.5-0.2,0.8v5.1 h-1.9V10.6z" class="css-1ovw312"></path><path d="M106.3,18.6v-1.5h2.2V8.6h-2.1V7.1h4v10h2.2v1.5H106.3z" class="css-1ovw312"></path><path d="M116,18.3c-0.6-0.4-1-0.9-1.4-1.5c-0.3-0.6-0.5-1.4-0.5-2.2c0-0.8,0.2-1.5,0.5-2.1c0.3-0.6,0.8-1.1,1.4-1.5 s1.2-0.5,1.9-0.5s1.3,0.2,1.9,0.5s1,0.9,1.4,1.5c0.3,0.6,0.5,1.3,0.5,2.1c0,0.8-0.2,1.5-0.5,2.2c-0.3,0.6-0.8,1.1-1.4,1.5 c-0.6,0.4-1.2,0.5-1.9,0.5S116.6,18.6,116,18.3z M118.9,17c0.3-0.2,0.5-0.5,0.6-0.9s0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.2-1.4 s-0.4-0.7-0.6-0.9c-0.3-0.2-0.6-0.3-1-0.3c-0.4,0-0.7,0.1-1,0.3c-0.3,0.2-0.5,0.5-0.6,0.9c-0.2,0.4-0.2,0.9-0.2,1.4 c0,0.5,0.1,1,0.2,1.4s0.4,0.7,0.6,0.9c0.3,0.2,0.6,0.3,1,0.3S118.6,17.2,118.9,17z" class="css-1ovw312"></path><path d="M123.2,10.6h1.9v0.8c0.3-0.3,0.6-0.6,1-0.7s0.8-0.3,1.3-0.3c0.8,0,1.4,0.3,1.8,0.8c0.5,0.5,0.7,1.4,0.7,2.5 v4.8h-1.9v-4.8c0-0.6-0.1-1-0.3-1.3c-0.2-0.3-0.5-0.4-1-0.4c-0.3,0-0.5,0.1-0.8,0.2c-0.2,0.1-0.4,0.3-0.6,0.5s-0.2,0.5-0.2,0.8v5.1 h-1.9V10.6z" class="css-1ovw312"></path></g></svg></div></a></div><style data-emotion-css="v4uozr">.css-v4uozr{box-sizing:border-box;margin:0;min-width:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}@media screen and (min-width:40em){.css-v4uozr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media screen and (min-width:52em){.css-v4uozr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media screen and (min-width:64em){.css-v4uozr{display:none;}}</style><div class="css-v4uozr"><style data-emotion-css="3bu33r">.css-3bu33r{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:4px;width:32px;height:32px;color:inherit;background-color:transparent;border:none;border-radius:4px;cursor:pointer;border-radius:0;}.css-3bu33r:focus{outline:none;-webkit-transition:.2s linear box-shadow;transition:.2s linear box-shadow;box-shadow:0 0 0 2px var(--theme-ui-colors-muted,#8b87ea);}</style><button title="Menu" aria-label="Toggle Menu" class="css-3bu33r"><style data-emotion-css="ipc245">.css-ipc245{box-sizing:border-box;margin:0;min-width:0;display:block;margin:0;}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentcolor" viewBox="0 0 24 24" class="css-ipc245"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></button></div></header><style data-emotion-css="tqqet">.css-tqqet{box-sizing:border-box;margin:0;min-width:0;width:100%;margin-left:auto;margin-right:auto;margin:0 auto;max-width:1200px;}</style><div class="css-tqqet"><style data-emotion-css="1jx1997">.css-1jx1997{box-sizing:border-box;margin:0;min-width:0;background-color:var(--theme-ui-colors-background,#131127);height:100%;left:-200px;position:fixed;-webkit-transition:.3s ease-in-out left;transition:.3s ease-in-out left;width:200px;z-index:999;}@media screen and (min-width:40em){.css-1jx1997{left:-200px;}}@media screen and (min-width:52em){.css-1jx1997{left:-200px;}}@media screen and (min-width:64em){.css-1jx1997{left:0px;}}</style><div class="css-1jx1997"><style data-emotion-css="kdqu7x">.css-kdqu7x{box-sizing:border-box;margin:0;min-width:0;border-right:1px solid var(--theme-ui-colors-surface,#232140);height:100%;left:-200px;-webkit-transition:.3s ease-in-out left;transition:.3s ease-in-out left;position:relative;}@media screen and (min-width:40em){.css-kdqu7x{left:-200px;}}@media screen and (min-width:52em){.css-kdqu7x{left:-200px;}}@media screen and (min-width:64em){.css-kdqu7x{left:0;}}</style><div class="css-kdqu7x"><style data-emotion-css="1xtefx3">.css-1xtefx3{box-sizing:border-box;margin:0;min-width:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:48px;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;over-flow:hidden;padding-left:32px;padding-right:32px;}@media screen and (min-width:40em){.css-1xtefx3{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}}@media screen and (min-width:52em){.css-1xtefx3{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}}@media screen and (min-width:64em){.css-1xtefx3{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}}</style><div class="css-1xtefx3"><style data-emotion-css="inb1s9">.css-inb1s9:focus{outline:none;-webkit-transition:.2s linear box-shadow;transition:.2s linear box-shadow;box-shadow:0 2px 0 0 var(--theme-ui-colors-primary,#f056c7);}</style><a title="Paul Scanlon&#x27;s Blog" class="css-inb1s9" href="/"><style data-emotion-css="19lo1oj">.css-19lo1oj{height:25px;overflow:hidden;}</style><div class="css-19lo1oj"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130 35" width="130px" height="35px"><g><style data-emotion-css="1phxv3p">.css-1phxv3p{fill:var(--theme-ui-colors-success,#58e6d9);}</style><path d="M2.6,12.5c0-5.1,4.2-9.4,9.4-9.4l0,0V0.5c-3,0-5.6,1-7.8,2.9c-5,4.4-5.5,11.9-1.2,16.9l2-1.7 C3.5,17,2.6,14.8,2.6,12.5z" class="css-1phxv3p"></path><style data-emotion-css="2likdo">.css-2likdo{fill:var(--theme-ui-colors-secondary,#c39eff);}</style><path d="M12,21.9c-2.8,0-5.4-1.2-7.1-3.2l-2,1.7c0.4,0.5,0.9,0.9,1.4,1.3c5,4.3,12.6,3.6,16.8-1.5l-2-1.7 C17.4,20.6,14.8,21.9,12,21.9z" class="css-2likdo"></path><style data-emotion-css="15l7r3y">.css-15l7r3y{fill:var(--theme-ui-colors-primary,#f056c7);}</style><path d="M12,0.5v2.6c5.1,0,9.4,4.2,9.4,9.4c0,2.3-0.8,4.4-2.2,6l2,1.7c1.9-2.3,2.8-4.7,2.8-7.7 C23.9,5.9,18.6,0.5,12,0.5z" class="css-15l7r3y"></path><style data-emotion-css="1ovw312">.css-1ovw312{fill:var(--theme-ui-colors-text,#FFFFFF);}</style><path d="M9.9,8.9h2.4c0.5,0,1,0.1,1.4,0.3s0.6,0.4,0.8,0.8c0.2,0.3,0.3,0.7,0.3,1.1c0,0.4-0.1,0.8-0.3,1.1 c-0.2,0.3-0.4,0.6-0.8,0.8c-0.4,0.2-0.8,0.3-1.3,0.3h-1.2V16H9.9V8.9z M12.3,12c0.4,0,0.7-0.1,0.8-0.3c0.2-0.2,0.3-0.4,0.3-0.7 c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.5-0.3-0.8-0.3h-1.1v2H12.3z" class="css-1ovw312"></path></g><g><path d="M29.5,8h3.6c0.8,0,1.5,0.1,2,0.4C35.6,8.7,36,9,36.3,9.5c0.3,0.5,0.4,1,0.4,1.6c0,0.6-0.1,1.1-0.4,1.6 s-0.6,0.8-1.2,1.1c-0.5,0.3-1.2,0.4-2,0.4h-1.7v4.3h-1.9V8z M33,12.7c0.6,0,1-0.1,1.3-0.4c0.3-0.3,0.4-0.6,0.4-1.1 c0-0.5-0.1-0.8-0.4-1.1c-0.3-0.3-0.7-0.4-1.2-0.4h-1.6v3H33z" class="css-1ovw312"></path><path d="M43.7,11.1c0.6,0.5,0.9,1.4,0.9,2.6v4.8h-1.8v-0.7c-0.3,0.3-0.7,0.5-1.1,0.7c-0.4,0.2-0.9,0.2-1.4,0.2 c-0.8,0-1.5-0.2-1.9-0.6s-0.6-1-0.6-1.7c0-0.6,0.2-1,0.5-1.4c0.4-0.4,0.9-0.7,1.5-0.9c0.7-0.2,1.5-0.3,2.4-0.3h0.6 c-0.1-0.7-0.2-1.2-0.5-1.5s-0.7-0.4-1.3-0.4c-0.4,0-0.7,0.1-1.1,0.3c-0.4,0.2-0.8,0.5-1.1,0.8l-1-1.3c0.5-0.5,1-0.8,1.6-1 c0.6-0.2,1.1-0.3,1.7-0.3C42.3,10.4,43.1,10.6,43.7,11.1z M42.3,16.8c0.3-0.4,0.5-0.9,0.6-1.7h-0.4c-1,0-1.7,0.1-2.1,0.3 s-0.7,0.5-0.7,1c0,0.3,0.1,0.5,0.3,0.7c0.2,0.1,0.5,0.2,0.9,0.2C41.6,17.3,42,17.1,42.3,16.8z" class="css-1ovw312"></path><path d="M47.2,18.1c-0.5-0.5-0.7-1.4-0.7-2.5v-5h1.9v5c0,0.6,0.1,1,0.3,1.3c0.2,0.3,0.5,0.4,0.8,0.4 c0.3,0,0.6-0.1,0.9-0.2c0.3-0.2,0.5-0.4,0.6-0.7c0.1-0.3,0.2-0.6,0.2-1v-4.8h1.9v6.6c0,0.3,0,0.6,0,0.8c0,0.2,0.1,0.4,0.1,0.5h-1.9 c-0.1-0.1-0.1-0.3-0.1-0.4c0-0.1,0-0.3,0-0.5c-0.2,0.4-0.5,0.7-0.9,0.9c-0.4,0.2-0.8,0.3-1.2,0.3C48.3,18.9,47.6,18.6,47.2,18.1z" class="css-1ovw312"></path><path d="M55.3,18.6v-1.5h2.2V8.6h-2.1V7.1h4v10h2.2v1.5H55.3z" class="css-1ovw312"></path><path d="M77.9,13.4c0.4,0.3,0.7,0.7,0.8,1s0.2,0.8,0.2,1.2c0,0.6-0.1,1.1-0.4,1.6c-0.3,0.5-0.7,0.9-1.2,1.2 c-0.6,0.3-1.3,0.5-2.1,0.5c-1.4,0-2.6-0.5-3.6-1.5l0.8-1.4l0,0l0,0c0.8,0.9,1.8,1.3,2.9,1.3c0.5,0,0.9-0.1,1.2-0.4 c0.3-0.2,0.4-0.6,0.4-1.1c0-0.2-0.1-0.5-0.2-0.7c-0.1-0.2-0.3-0.4-0.6-0.6c-0.3-0.2-0.7-0.4-1.2-0.7c-1-0.4-1.7-0.9-2.1-1.4 c-0.4-0.5-0.7-1.1-0.7-1.9c0-0.5,0.1-1,0.4-1.4c0.3-0.4,0.7-0.8,1.2-1c0.5-0.3,1.1-0.4,1.7-0.4c0.7,0,1.3,0.1,1.8,0.3 s1,0.6,1.5,1.1l-1,1.3l0,0c0,0,0,0,0,0c-0.3-0.4-0.6-0.7-1-0.9s-0.8-0.3-1.3-0.3c-0.3,0-0.6,0.1-0.8,0.2c-0.2,0.1-0.4,0.3-0.5,0.4 S74,10.2,74,10.4c0,0.2,0.1,0.5,0.2,0.7c0.1,0.2,0.4,0.4,0.7,0.6c0.3,0.2,0.8,0.4,1.4,0.7C76.9,12.8,77.5,13.1,77.9,13.4z M72.4,15.8C72.4,15.8,72.4,15.8,72.4,15.8L72.4,15.8L72.4,15.8C72.4,15.9,72.4,15.8,72.4,15.8z M72.7,15.9 C72.7,15.9,72.7,15.9,72.7,15.9c0,0-0.1,0-0.1,0c0,0-0.1,0-0.1,0l0-0.1L72.7,15.9L72.7,15.9z M77.5,10.4 C77.5,10.4,77.5,10.4,77.5,10.4C77.6,10.4,77.6,10.4,77.5,10.4c0.1,0.1,0.2,0.1,0.2,0.1l0,0L77.5,10.4L77.5,10.4z M77.8,10.6 C77.8,10.6,77.8,10.6,77.8,10.6c0,0-0.1,0-0.1,0l0-0.1C77.8,10.5,77.8,10.6,77.8,10.6z" class="css-1ovw312"></path><path d="M85.4,16.9c0.3-0.2,0.7-0.4,1-0.8l1.1,1.3c-0.4,0.5-0.9,0.8-1.4,1.1c-0.5,0.2-1.1,0.3-1.7,0.3 c-0.8,0-1.5-0.2-2.1-0.5c-0.6-0.4-1.1-0.9-1.4-1.5s-0.5-1.3-0.5-2.1c0-0.8,0.2-1.5,0.5-2.1s0.8-1.1,1.4-1.5 c0.6-0.4,1.3-0.6,2.1-0.6c0.7,0,1.3,0.1,1.8,0.4c0.6,0.3,1,0.6,1.3,1.1l-1.1,1.2l0,0c0,0,0,0,0,0c-0.2-0.4-0.5-0.7-0.8-0.9 S84.8,12,84.3,12c-0.4,0-0.7,0.1-1.1,0.3c-0.3,0.2-0.6,0.5-0.8,0.9c-0.2,0.4-0.3,0.9-0.3,1.4c0,0.5,0.1,0.9,0.3,1.3 c0.2,0.4,0.4,0.7,0.7,0.9c0.3,0.2,0.7,0.3,1.1,0.3C84.7,17.2,85,17.1,85.4,16.9z M86.2,13.2C86.2,13.2,86.2,13.2,86.2,13.2 c0,0,0.1,0,0.2,0.1l0,0L86.2,13.2L86.2,13.2z M86.5,13.3C86.5,13.4,86.5,13.4,86.5,13.3C86.5,13.4,86.4,13.3,86.5,13.3l0-0.1 C86.5,13.3,86.5,13.3,86.5,13.3z" class="css-1ovw312"></path><path d="M94.7,11.1c0.6,0.5,0.9,1.4,0.9,2.6v4.8h-1.8v-0.7c-0.3,0.3-0.7,0.5-1.1,0.7c-0.4,0.2-0.9,0.2-1.4,0.2 c-0.8,0-1.5-0.2-1.9-0.6s-0.6-1-0.6-1.7c0-0.6,0.2-1,0.5-1.4c0.4-0.4,0.9-0.7,1.5-0.9c0.7-0.2,1.5-0.3,2.4-0.3h0.6 c-0.1-0.7-0.2-1.2-0.5-1.5s-0.7-0.4-1.3-0.4c-0.4,0-0.7,0.1-1.1,0.3s-0.8,0.5-1.1,0.8l-1-1.3c0.5-0.5,1-0.8,1.6-1 c0.6-0.2,1.1-0.3,1.7-0.3C93.3,10.4,94.1,10.6,94.7,11.1z M93.3,16.8c0.3-0.4,0.5-0.9,0.6-1.7h-0.4c-1,0-1.7,0.1-2.1,0.3 s-0.7,0.5-0.7,1c0,0.3,0.1,0.5,0.3,0.7c0.2,0.1,0.5,0.2,0.9,0.2C92.5,17.3,93,17.1,93.3,16.8z" class="css-1ovw312"></path><path d="M97.7,10.6h1.9v0.8c0.3-0.3,0.6-0.6,1-0.7s0.8-0.3,1.3-0.3c0.8,0,1.4,0.3,1.8,0.8c0.5,0.5,0.7,1.4,0.7,2.5v4.8 h-1.9v-4.8c0-0.6-0.1-1-0.3-1.3c-0.2-0.3-0.5-0.4-1-0.4c-0.3,0-0.5,0.1-0.8,0.2c-0.2,0.1-0.4,0.3-0.6,0.5s-0.2,0.5-0.2,0.8v5.1 h-1.9V10.6z" class="css-1ovw312"></path><path d="M106.3,18.6v-1.5h2.2V8.6h-2.1V7.1h4v10h2.2v1.5H106.3z" class="css-1ovw312"></path><path d="M116,18.3c-0.6-0.4-1-0.9-1.4-1.5c-0.3-0.6-0.5-1.4-0.5-2.2c0-0.8,0.2-1.5,0.5-2.1c0.3-0.6,0.8-1.1,1.4-1.5 s1.2-0.5,1.9-0.5s1.3,0.2,1.9,0.5s1,0.9,1.4,1.5c0.3,0.6,0.5,1.3,0.5,2.1c0,0.8-0.2,1.5-0.5,2.2c-0.3,0.6-0.8,1.1-1.4,1.5 c-0.6,0.4-1.2,0.5-1.9,0.5S116.6,18.6,116,18.3z M118.9,17c0.3-0.2,0.5-0.5,0.6-0.9s0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.2-1.4 s-0.4-0.7-0.6-0.9c-0.3-0.2-0.6-0.3-1-0.3c-0.4,0-0.7,0.1-1,0.3c-0.3,0.2-0.5,0.5-0.6,0.9c-0.2,0.4-0.2,0.9-0.2,1.4 c0,0.5,0.1,1,0.2,1.4s0.4,0.7,0.6,0.9c0.3,0.2,0.6,0.3,1,0.3S118.6,17.2,118.9,17z" class="css-1ovw312"></path><path d="M123.2,10.6h1.9v0.8c0.3-0.3,0.6-0.6,1-0.7s0.8-0.3,1.3-0.3c0.8,0,1.4,0.3,1.8,0.8c0.5,0.5,0.7,1.4,0.7,2.5 v4.8h-1.9v-4.8c0-0.6-0.1-1-0.3-1.3c-0.2-0.3-0.5-0.4-1-0.4c-0.3,0-0.5,0.1-0.8,0.2c-0.2,0.1-0.4,0.3-0.6,0.5s-0.2,0.5-0.2,0.8v5.1 h-1.9V10.6z" class="css-1ovw312"></path></g></svg></div></a></div><style data-emotion-css="9vkrg4">.css-9vkrg4{box-sizing:border-box;margin:0;min-width:0;height:100%;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;}</style><nav class="css-9vkrg4"><style data-emotion-css="dyybnr">.css-dyybnr{box-sizing:border-box;margin:0;min-width:0;list-style:none;margin-top:8px;padding:0;}</style><ul class="css-dyybnr"><style data-emotion-css="12yllt8">.css-12yllt8{box-sizing:border-box;margin:0;min-width:0;text-align:left;}@media screen and (min-width:40em){.css-12yllt8{text-align:left;}}@media screen and (min-width:52em){.css-12yllt8{text-align:left;}}@media screen and (min-width:64em){.css-12yllt8{text-align:right;}}</style><li class="css-12yllt8"><style data-emotion-css="4cgz5t">.css-4cgz5t{box-sizing:border-box;margin:0;min-width:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;font-weight:700;display:inline-block;color:var(--theme-ui-colors-secondary,#c39eff);-webkit-transition:.2s linear box-shadow;transition:.2s linear box-shadow;font-weight:400;}.css-4cgz5t:hover,.css-4cgz5t:focus,.css-4cgz5t.active{color:var(--theme-ui-colors-primary,#f056c7);}.css-4cgz5t:focus{outline:none;box-shadow:0 2px 0 0 var(--theme-ui-colors-primary,#f056c7);}.css-4cgz5t button{cursor:pointer;}.css-4cgz5t:before{padding-right:8px;content:"-";}@media screen and (min-width:40em){.css-4cgz5t:before{padding-right:8px;content:"-";}}@media screen and (min-width:52em){.css-4cgz5t:before{padding-right:8px;content:"-";}}@media screen and (min-width:64em){.css-4cgz5t:before{padding-right:0;content:"";}}.css-4cgz5t:after{padding-left:0;content:"";}@media screen and (min-width:40em){.css-4cgz5t:after{padding-left:0;content:"";}}@media screen and (min-width:52em){.css-4cgz5t:after{padding-left:0;content:"";}}@media screen and (min-width:64em){.css-4cgz5t:after{padding-left:8px;content:"-";}}.css-4cgz5t:hover{color:var(--theme-ui-colors-text,#FFFFFF);-webkit-transition:.2s linear color;transition:.2s linear color;}.css-4cgz5t[aria-current="page"]{color:var(--theme-ui-colors-text,#FFFFFF);pointer-events:none;}</style><a class="css-4cgz5t" href="/">home</a></li><li class="css-12yllt8"><a class="css-4cgz5t" href="/about/">about</a></li><li class="css-12yllt8"><a class="css-4cgz5t" href="/dashboard/">dashboard</a></li><li class="css-12yllt8"><a class="css-4cgz5t" href="/posts/">posts</a></li><li class="css-12yllt8"><a class="css-4cgz5t" href="/writing/">writing</a></li></ul></nav></div></div><style data-emotion-css="nvcgve">.css-nvcgve{box-sizing:border-box;margin:0;min-width:0;background-color:rgba(0,0,0,0.8);display:none;height:100%;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px;position:fixed;-webkit-transition:.2s linear background-color;transition:.2s linear background-color;width:100%;z-index:998;}@media screen and (min-width:40em){.css-nvcgve{display:none;padding-left:32px;padding-right:32px;}}@media screen and (min-width:52em){.css-nvcgve{display:none;}}@media screen and (min-width:64em){.css-nvcgve{display:none;}}.css-nvcgve:focus{outline:none;background-color:rgba(0,0,0,0.6);}</style><div role="button" tabindex="0" class="css-nvcgve"><style data-emotion-css="3bu33r">.css-3bu33r{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:4px;width:32px;height:32px;color:inherit;background-color:transparent;border:none;border-radius:4px;cursor:pointer;border-radius:0;}.css-3bu33r:focus{outline:none;-webkit-transition:.2s linear box-shadow;transition:.2s linear box-shadow;box-shadow:0 0 0 2px var(--theme-ui-colors-muted,#8b87ea);}</style><button title="Close" aria-label="Close" class="css-3bu33r"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg></button></div><style data-emotion-css="x8q8rd">.css-x8q8rd{box-sizing:border-box;margin:0;min-width:0;display:block;margin-left:0;padding-left:16px;padding-right:16px;padding-top:64px;padding-bottom:64px;-webkit-transition:.3s ease-in-out margin-left;transition:.3s ease-in-out margin-left;}@media screen and (min-width:40em){.css-x8q8rd{margin-left:0;padding-left:32px;padding-right:32px;}}@media screen and (min-width:52em){.css-x8q8rd{margin-left:0;}}@media screen and (min-width:64em){.css-x8q8rd{margin-left:200px;}}</style><main class="css-x8q8rd"><style data-emotion-css="ktxhrn">.css-ktxhrn{box-sizing:border-box;margin:0;min-width:0;margin-bottom:32px;}</style><div class="css-ktxhrn"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:56.25%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDBv/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB5y4toE//xAAZEAACAwEAAAAAAAAAAAAAAAABEAIREgP/2gAIAQEAAQUC551IB3a//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAgMAAAAAAAAAAAAAAAAAACAhIjH/2gAIAQEABj8CuRq//8QAGxAAAgIDAQAAAAAAAAAAAAAAAREAQRAhMXH/2gAIAQEAAT8h8ZFPjpzX0FlzFQkjOP/aAAwDAQACAAMAAAAQO9//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QpX//xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAgEBPxCH/8QAHBABAQABBQEAAAAAAAAAAAAAEQEAECExQVFh/9oACAEBAAE/EEERypA9G4+YfbiU/B75+caXEJVIR0//2Q==" alt=""/><picture><source type="image/avif" data-srcset="/static/fd56950268dc0c0f2a867f217495207a/5846e/react-svg-doughnut-chart_u7wza7.avif 750w,/static/fd56950268dc0c0f2a867f217495207a/47b7d/react-svg-doughnut-chart_u7wza7.avif 1024w" sizes="100vw"/><source type="image/webp" data-srcset="/static/fd56950268dc0c0f2a867f217495207a/d02c5/react-svg-doughnut-chart_u7wza7.webp 750w,/static/fd56950268dc0c0f2a867f217495207a/d819f/react-svg-doughnut-chart_u7wza7.webp 1024w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/fd56950268dc0c0f2a867f217495207a/ccd19/react-svg-doughnut-chart_u7wza7.jpg" data-srcset="/static/fd56950268dc0c0f2a867f217495207a/5de87/react-svg-doughnut-chart_u7wza7.jpg 750w,/static/fd56950268dc0c0f2a867f217495207a/ccd19/react-svg-doughnut-chart_u7wza7.jpg 1024w" alt="Create an Svg Doughnut Chart from scratch for your Gatsby blog-image"/></picture><noscript><picture><source type="image/avif" srcSet="/static/fd56950268dc0c0f2a867f217495207a/5846e/react-svg-doughnut-chart_u7wza7.avif 750w,/static/fd56950268dc0c0f2a867f217495207a/47b7d/react-svg-doughnut-chart_u7wza7.avif 1024w" sizes="100vw"/><source type="image/webp" srcSet="/static/fd56950268dc0c0f2a867f217495207a/d02c5/react-svg-doughnut-chart_u7wza7.webp 750w,/static/fd56950268dc0c0f2a867f217495207a/d819f/react-svg-doughnut-chart_u7wza7.webp 1024w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/fd56950268dc0c0f2a867f217495207a/ccd19/react-svg-doughnut-chart_u7wza7.jpg" srcSet="/static/fd56950268dc0c0f2a867f217495207a/5de87/react-svg-doughnut-chart_u7wza7.jpg 750w,/static/fd56950268dc0c0f2a867f217495207a/ccd19/react-svg-doughnut-chart_u7wza7.jpg 1024w" alt="Create an Svg Doughnut Chart from scratch for your Gatsby blog-image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></div><style data-emotion-css="1me44uj">.css-1me44uj{box-sizing:border-box;margin:0;min-width:0;font-family:Inconsolata,monospace;font-weight:700;line-height:1.125;font-family:Inconsolata,monospace;font-weight:700;font-size:28px;margin-top:0;margin-bottom:16px;color:var(--theme-ui-colors-primary,#f056c7);margin-bottom:32px;}.css-1me44uj a{color:inherit;}.css-1me44uj::before{content:'→';color:var(--theme-ui-colors-success,#58e6d9);margin-right:8px;}.css-1me44uj::after{content:'()';color:var(--theme-ui-colors-secondary,#c39eff);margin-left:4px;}</style><h1 class="css-1me44uj">Create an Svg Doughnut Chart from scratch for your Gatsby blog</h1><style data-emotion-css="z54kij">.css-z54kij{box-sizing:border-box;margin:0;min-width:0;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-z54kij"><style data-emotion-css="14l2yhb">.css-14l2yhb{box-sizing:border-box;margin:0;min-width:0;width:100%;}@media screen and (min-width:40em){.css-14l2yhb{width:50%;}}</style><div class="css-14l2yhb"><style data-emotion-css="haw7bj">.css-haw7bj{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-muted,#8b87ea);}</style><div class="css-haw7bj">Date published: <!-- -->11-Jan-2021</div></div><div class="css-14l2yhb"></div></div><div class="css-z54kij"><div class="css-14l2yhb"><div class="css-haw7bj">3 min read / 872 words</div></div><div class="css-14l2yhb"><style data-emotion-css="1od5vmp">.css-1od5vmp{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-muted,#8b87ea);text-align:left;}@media screen and (min-width:40em){.css-1od5vmp{text-align:right;}}</style><div class="css-1od5vmp">Author: <!-- -->Paul Scanlon</div></div></div><style data-emotion-css="15t1oa2">.css-15t1oa2{box-sizing:border-box;margin:0;min-width:0;color:gray;margin:0;margin-top:8px;margin-bottom:8px;border:0;border-bottom:1px solid;border:none;margin-top:0;margin-bottom:16px;}</style><hr class="css-15t1oa2"/><style data-emotion-css="1kfw6lc">.css-1kfw6lc{box-sizing:border-box;margin:0;min-width:0;display:inline-block;vertical-align:baseline;font-size:12px;font-weight:700;white-space:nowrap;padding-left:4px;padding-right:4px;border-radius:2px;color:white;background-color:var(--theme-ui-colors-primary,#f056c7);color:var(--theme-ui-colors-primary,#f056c7);border-color:var(--theme-ui-colors-primary,#f056c7);font-size:12px;border-radius:0;border-width:1px;border-style:solid;background-color:transparent;padding-left:8px;padding-right:8px;padding-top:4px;padding-bottom:4px;margin-bottom:8px;margin-right:8px;color:#f056c7;border-color:#f056c7;}</style><div class="css-1kfw6lc">JavaScript</div><style data-emotion-css="1x7641t">.css-1x7641t{box-sizing:border-box;margin:0;min-width:0;display:inline-block;vertical-align:baseline;font-size:12px;font-weight:700;white-space:nowrap;padding-left:4px;padding-right:4px;border-radius:2px;color:white;background-color:var(--theme-ui-colors-primary,#f056c7);color:var(--theme-ui-colors-primary,#f056c7);border-color:var(--theme-ui-colors-primary,#f056c7);font-size:12px;border-radius:0;border-width:1px;border-style:solid;background-color:transparent;padding-left:8px;padding-right:8px;padding-top:4px;padding-bottom:4px;margin-bottom:8px;margin-right:8px;color:#db5fce;border-color:#db5fce;}</style><div class="css-1x7641t">React</div><style data-emotion-css="1rz46ot">.css-1rz46ot{box-sizing:border-box;margin:0;min-width:0;display:inline-block;vertical-align:baseline;font-size:12px;font-weight:700;white-space:nowrap;padding-left:4px;padding-right:4px;border-radius:2px;color:white;background-color:var(--theme-ui-colors-primary,#f056c7);color:var(--theme-ui-colors-primary,#f056c7);border-color:var(--theme-ui-colors-primary,#f056c7);font-size:12px;border-radius:0;border-width:1px;border-style:solid;background-color:transparent;padding-left:8px;padding-right:8px;padding-top:4px;padding-bottom:4px;margin-bottom:8px;margin-right:8px;color:#c769d5;border-color:#c769d5;}</style><div class="css-1rz46ot">SVG</div><style data-emotion-css="7dvig3">.css-7dvig3{box-sizing:border-box;margin:0;min-width:0;display:inline-block;vertical-align:baseline;font-size:12px;font-weight:700;white-space:nowrap;padding-left:4px;padding-right:4px;border-radius:2px;color:white;background-color:var(--theme-ui-colors-primary,#f056c7);color:var(--theme-ui-colors-primary,#f056c7);border-color:var(--theme-ui-colors-primary,#f056c7);font-size:12px;border-radius:0;border-width:1px;border-style:solid;background-color:transparent;padding-left:8px;padding-right:8px;padding-top:4px;padding-bottom:4px;margin-bottom:8px;margin-right:8px;color:#b373dc;border-color:#b373dc;}</style><div class="css-7dvig3">Gatsby</div><style data-emotion-css="1tvn0lk">.css-1tvn0lk{box-sizing:border-box;margin:0;min-width:0;display:inline-block;vertical-align:baseline;font-size:12px;font-weight:700;white-space:nowrap;padding-left:4px;padding-right:4px;border-radius:2px;color:white;background-color:var(--theme-ui-colors-primary,#f056c7);color:var(--theme-ui-colors-primary,#f056c7);border-color:var(--theme-ui-colors-primary,#f056c7);font-size:12px;border-radius:0;border-width:1px;border-style:solid;background-color:transparent;padding-left:8px;padding-right:8px;padding-top:4px;padding-bottom:4px;margin-bottom:8px;margin-right:8px;color:#9f7de3;border-color:#9f7de3;}</style><div class="css-1tvn0lk">CSS</div><hr class="css-15t1oa2"/><style data-emotion-css="1dsmof0">.css-1dsmof0{margin-top:0;margin-bottom:16px;}.css-1dsmof0 code{color:inherit;background-color:var(--theme-ui-colors-surface,#232140);font-family:monospace;font-size:14px;padding:4px;word-break:break-word;}.css-1dsmof0 code .changed{color:rgb(162,191,252);font-style:italic;}.css-1dsmof0 code .deleted{color:rgba(239,83,80,0.56);font-style:italic;}.css-1dsmof0 code .inserted,.css-1dsmof0 code .attr-name{color:rgb(173,219,103);font-style:italic;}.css-1dsmof0 code .comment{color:rgb(99,119,119);font-style:italic;}.css-1dsmof0 code .string,.css-1dsmof0 code .url{color:rgb(173,219,103);}.css-1dsmof0 code .variable{color:rgb(214,222,235);}.css-1dsmof0 code .number{color:rgb(247,140,108);}.css-1dsmof0 code .builtin,.css-1dsmof0 code .char,.css-1dsmof0 code .constant,.css-1dsmof0 code .function{color:rgb(130,170,255);}.css-1dsmof0 code .punctuation{color:rgb(199,146,234);}.css-1dsmof0 code .selector,.css-1dsmof0 code .doctype{color:rgb(199,146,234);font-style:italic;}.css-1dsmof0 code .class-name{color:rgb(255,203,139);}.css-1dsmof0 code .tag,.css-1dsmof0 code .operator,.css-1dsmof0 code .keyword{color:rgb(127,219,202);}.css-1dsmof0 code .boolean{color:rgb(255,88,116);}.css-1dsmof0 code .property{color:rgb(128,203,196);}.css-1dsmof0 code .namespace{color:rgb(178,204,214);}.css-1dsmof0 a{color:var(--theme-ui-colors-secondary,#c39eff);word-break:break-word;}.css-1dsmof0 mark{color:var(--theme-ui-colors-background,#131127);background-color:var(--theme-ui-colors-highlight,#ffeb3b);}</style><p class="css-1dsmof0">Charting libraries are great don&#x27;t get me wrong but sometimes... you just need a bloody doughnut! 🍩</p><p class="css-1dsmof0">This post is largely based on this
<style data-emotion-css="1pti9z1">.css-1pti9z1{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-secondary,#c39eff);-webkit-transition:.2s linear box-shadow;transition:.2s linear box-shadow;}.css-1pti9z1:focus{outline:none;box-shadow:0 2px 0 0 var(--theme-ui-colors-primary,#f056c7);}.css-1pti9z1 button{cursor:pointer;}</style><a href="https://medium.com/@heyoka/scratch-made-svg-donut-pie-charts-in-html5-2c587e935d72" target="_blank" rel="noopener" class="css-1pti9z1">article</a> by
<a href="https://twitter.com/heyoka" target="_blank" rel="noopener" class="css-1pti9z1">Mark Caron</a> and using this as the foundation i&#x27;m going to explain how I created the &quot;tags&quot;
chart seen in my <a class="css-1pti9z1" href="/dashboard">dashboard</a></p><p class="css-1dsmof0">To start with I created a new React component and called it <code class="css-0">MrDoughnut</code> and by using <code class="css-0">useStaticQuery</code> and <code class="css-0">graphql</code>
from <code class="css-0">gatsby</code> I&#x27;m able to query the tags used in my blog posts</p><hr class="css-15t1oa2"/><style data-emotion-css="1imn0uz">.css-1imn0uz{color:#9EFEFF;background-color:#2D2A55;font-family:monospace;border-radius:0;overflow:auto;font-size:13px;padding:16px;}.css-1imn0uz .changed{color:rgb(255,238,128);}.css-1imn0uz .deleted{color:rgba(239,83,80,0.56);}.css-1imn0uz .inserted,.css-1imn0uz .attr-name{color:rgb(173,219,103);font-style:italic;}.css-1imn0uz .comment{color:rgb(179,98,255);font-style:italic;}.css-1imn0uz .string,.css-1imn0uz .url{color:rgb(165,255,144);}.css-1imn0uz .variable{color:rgb(255,238,128);}.css-1imn0uz .number{color:rgb(247,140,108);}.css-1imn0uz .builtin,.css-1imn0uz .char,.css-1imn0uz .constant,.css-1imn0uz .function{color:rgb(130,170,255);}.css-1imn0uz .punctuation{color:rgb(255,255,255);}.css-1imn0uz .selector,.css-1imn0uz .doctype{color:rgb(199,146,234);font-style:italic;}.css-1imn0uz .class-name{color:rgb(255,203,139);}.css-1imn0uz .tag,.css-1imn0uz .operator,.css-1imn0uz .keyword{color:rgb(127,219,202);}.css-1imn0uz .boolean{color:rgb(255,88,116);}.css-1imn0uz .property{color:rgb(128,203,196);}.css-1imn0uz .namespace{color:rgb(178,204,214);}.css-1imn0uz .inserted{color:rgb(173,219,103);}.css-1imn0uz .constant{color:rgb(255,98,140);}.css-1imn0uz .number,.css-1imn0uz .boolean{color:rgb(255,98,140);}.css-1imn0uz .attr-name{color:rgb(255,180,84);}.css-1imn0uz .keyword,.css-1imn0uz .operator,.css-1imn0uz .property,.css-1imn0uz .namespace,.css-1imn0uz .tag,.css-1imn0uz .selector,.css-1imn0uz .doctype{color:rgb(255,157,0);}.css-1imn0uz .builtin,.css-1imn0uz .char,.css-1imn0uz .constant,.css-1imn0uz .function,.css-1imn0uz .class-name{color:rgb(250,208,0);}</style><pre class="language-javascript prism-code language-javascript css-1imn0uz"><div class="token-line"><style data-emotion-css="1baulvz">.css-1baulvz{display:inline-block;}</style><span class="token comment css-1baulvz">// MrDoughnut.js</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token keyword module css-1baulvz">import</span><span class="token plain css-1baulvz"> </span><span class="token maybe-class-name css-1baulvz">React</span><span class="token plain css-1baulvz"> </span><span class="token keyword module css-1baulvz">from</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&quot;react&quot;</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token keyword module css-1baulvz">import</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"> useStaticQuery</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> graphql </span><span class="token punctuation css-1baulvz">}</span><span class="token plain css-1baulvz"> </span><span class="token keyword module css-1baulvz">from</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&quot;gatsby&quot;</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token keyword module css-1baulvz">export</span><span class="token plain css-1baulvz"> </span><span class="token keyword css-1baulvz">const</span><span class="token plain css-1baulvz"> </span><span class="token function-variable function maybe-class-name css-1baulvz">MrDoughnut</span><span class="token plain css-1baulvz"> </span><span class="token operator css-1baulvz">=</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">(</span><span class="token punctuation css-1baulvz">)</span><span class="token plain css-1baulvz"> </span><span class="token arrow operator css-1baulvz">=&gt;</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token keyword css-1baulvz">const</span><span class="token plain css-1baulvz"> tagData </span><span class="token operator css-1baulvz">=</span><span class="token plain css-1baulvz"> </span><span class="token function css-1baulvz">useStaticQuery</span><span class="token punctuation css-1baulvz">(</span><span class="token plain css-1baulvz">graphql</span><span class="token template-string template-punctuation string css-1baulvz">`</span><span class="token template-string string css-1baulvz"></span></div><div class="token-line"><span class="token template-string string css-1baulvz">    query TagsQuery {</span></div><div class="token-line"><span class="token template-string string css-1baulvz">      allMdx(filter: { frontmatter: { tags: { ne: null } } }) {</span></div><div class="token-line"><span class="token template-string string css-1baulvz">        edges {</span></div><div class="token-line"><span class="token template-string string css-1baulvz">          node {</span></div><div class="token-line"><span class="token template-string string css-1baulvz">            frontmatter {</span></div><div class="token-line"><span class="token template-string string css-1baulvz">              tags</span></div><div class="token-line"><span class="token template-string string css-1baulvz">            }</span></div><div class="token-line"><span class="token template-string string css-1baulvz">          }</span></div><div class="token-line"><span class="token template-string string css-1baulvz">        }</span></div><div class="token-line"><span class="token template-string string css-1baulvz">      }</span></div><div class="token-line"><span class="token template-string string css-1baulvz">    }</span></div><div class="token-line"><span class="token template-string string css-1baulvz">  </span><span class="token template-string template-punctuation string css-1baulvz">`</span><span class="token punctuation css-1baulvz">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token console class-name css-1baulvz">console</span><span class="token punctuation css-1baulvz">.</span><span class="token method function property-access css-1baulvz">log</span><span class="token punctuation css-1baulvz">(</span><span class="token known-class-name class-name css-1baulvz">JSON</span><span class="token punctuation css-1baulvz">.</span><span class="token method function property-access css-1baulvz">stringify</span><span class="token punctuation css-1baulvz">(</span><span class="token plain css-1baulvz">tagData</span><span class="token punctuation css-1baulvz">.</span><span class="token property-access css-1baulvz">allMdx</span><span class="token punctuation css-1baulvz">.</span><span class="token property-access css-1baulvz">edges</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> </span><span class="token keyword null nil css-1baulvz">null</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> </span><span class="token number css-1baulvz">2</span><span class="token punctuation css-1baulvz">)</span><span class="token punctuation css-1baulvz">)</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token keyword css-1baulvz">return</span><span class="token plain css-1baulvz"> </span><span class="token operator css-1baulvz">&lt;</span><span class="token plain css-1baulvz">div</span><span class="token operator css-1baulvz">&gt;</span><span class="token maybe-class-name css-1baulvz">MrDoughnut</span><span class="token operator css-1baulvz">&lt;</span><span class="token operator css-1baulvz">/</span><span class="token plain css-1baulvz">div</span><span class="token operator css-1baulvz">&gt;</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">Which outputs something similar to the below 👇</p><hr class="css-15t1oa2"/><pre class="language-javascript prism-code language-javascript css-1imn0uz"><div class="token-line"><span class="token punctuation css-1baulvz">;</span><span class="token punctuation css-1baulvz">[</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    node</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">      frontmatter</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">        tags</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">[</span><span class="token string css-1baulvz">&#x27;JavaScript&#x27;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&#x27;React&#x27;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&#x27;Gatsby&#x27;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&#x27;SVG&#x27;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&#x27;Netlify Functions&#x27;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&#x27;GitHub REST&#x27;</span><span class="token punctuation css-1baulvz">]</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">      </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    node</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">      frontmatter</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">        tags</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">[</span><span class="token string css-1baulvz">&#x27;React&#x27;</span><span class="token punctuation css-1baulvz">]</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">      </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    node</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">      frontmatter</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">        tags</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token punctuation css-1baulvz">[</span><span class="token string css-1baulvz">&#x27;JavaScript&#x27;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&#x27;React&#x27;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&#x27;SVG&#x27;</span><span class="token punctuation css-1baulvz">]</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">      </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token punctuation css-1baulvz">]</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">This is a good start but to use this data to drive <code class="css-0">&lt;MrDoughnut /&gt;</code> it needs to be <em class="css-0">massaged</em> into a slightly different
shape.</p><p class="css-1dsmof0">Ideally what I need is an object for each tag name containing a value for the <code class="css-0">tag</code>, <code class="css-0">count</code>, <code class="css-0">percentage</code> and
<code class="css-0">remainder</code>.</p><p class="css-1dsmof0">A shape like this will do the trick 👇</p><hr class="css-15t1oa2"/><pre class="language-javascript prism-code language-javascript css-1imn0uz"><div class="token-line"><span class="token punctuation css-1baulvz">;</span><span class="token punctuation css-1baulvz">[</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    tag</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&#x27;React&#x27;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    count</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token number css-1baulvz">3</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    percentage</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> x</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    remainder</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> x</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token punctuation css-1baulvz">]</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">To modify the shape of any data the most common method to use is
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce" target="_blank" rel="noopener" class="css-1pti9z1">Array.prototype.reduce</a></p><style data-emotion-css="1jrgzbm">.css-1jrgzbm{font-family:Inconsolata,monospace;font-weight:700;font-size:18px;margin-top:0;margin-bottom:16px;color:var(--theme-ui-colors-primary,#f056c7);}.css-1jrgzbm a{color:inherit;}.css-1jrgzbm::before{content:'→';color:var(--theme-ui-colors-success,#58e6d9);margin-right:8px;}.css-1jrgzbm::after{content:'()';color:var(--theme-ui-colors-secondary,#c39eff);margin-left:4px;}</style><h2 class="css-1jrgzbm"><a href="#the-data" class="css-1pti9z1">The Data</a></h2><style data-emotion-css="1cl1f0n">.css-1cl1f0n{font-family:Inconsolata,monospace;font-weight:700;font-size:18px;margin-top:0;margin-bottom:16px;color:var(--theme-ui-colors-secondary,#c39eff);}.css-1cl1f0n a{color:inherit;}</style><h3 class="css-1cl1f0n"><a href="#step-one" class="css-1pti9z1">Step one</a></h3><p class="css-1dsmof0">Reduce all the tag names into one array</p><pre class="language-diff prism-code language-diff css-1imn0uz"><div class="token-line"><span class="token plain css-1baulvz">// MrDoughnut.js</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">import React from &quot;react&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz">import { useStaticQuery, graphql } from &quot;gatsby&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">export const MrDoughnut = () =&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  const tagData = useStaticQuery(graphql`</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    query TagsQuery {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      allMdx(filter: { frontmatter: { tags: { ne: null } } }) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        edges {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          node {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            frontmatter {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              tags</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token deleted-sign deleted css-1baulvz">-  `)</span></div><div class="token-line"><span class="token deleted-sign deleted css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+  `) .allMdx.edges.reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token unchanged css-1baulvz">    const { tags } = item.node.frontmatter</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    tags.map((tag) =&gt; items.push(tag))</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">  }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token deleted-sign deleted css-1baulvz">-  console.log(JSON.stringify(tagData.allMdx.edges, null, 2))</span></div><div class="token-line"><span class="token deleted-sign deleted css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+  console.log(JSON.stringify(tagData, null, 2))</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  return &lt;div&gt;MrDoughnut&lt;/div&gt;</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">Which results in an array of strings similar to the below 👇</p><hr class="css-15t1oa2"/><pre class="language-javascript prism-code language-javascript css-1imn0uz"><div class="token-line"><span class="token punctuation css-1baulvz">[</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;Dummy&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;Tags&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;JavaScript&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;React&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;Gatsby&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;SVG&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;Netlify Functions&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;GitHub REST&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;React&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;React&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;Gatsby&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token string css-1baulvz">&quot;Gatsby Cloud&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token spread operator css-1baulvz">...</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">You&#x27;ll notice there are duplicates in this array and in step two i&#x27;ll count the duplicates which will give me enough
data to work out what percentage each tag represents.</p><h3 class="css-1cl1f0n"><a href="#step-two" class="css-1pti9z1">Step two</a></h3><p class="css-1dsmof0">Count the amount of duplicate items and assign a value in a new object key called <code class="css-0">count</code> and return this value along
with the tag name</p><hr class="css-15t1oa2"/><pre class="language-diff prism-code language-diff css-1imn0uz"><div class="token-line"><span class="token plain css-1baulvz">// MrDoughnut.js</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">import React from &quot;react&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz">import { useStaticQuery, graphql } from &quot;gatsby&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">export const MrDoughnut = () =&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  const tagData = useStaticQuery(graphql`</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    query TagsQuery {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      allMdx(filter: { frontmatter: { tags: { ne: null } } }) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        edges {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          node {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            frontmatter {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              tags</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">  `)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .allMdx.edges.reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { tags } = item.node.frontmatter</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      tags.map((tag) =&gt; items.push(tag))</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+    .reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      const existingItem = items.find((index) =&gt; index.tag === item)</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      if (existingItem) {</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        existingItem.count += 1</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      } else {</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        items.push({</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          tag: item,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          count: 1,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        })</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      }</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+      return items</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+    }, [])</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  console.log(JSON.stringify(tagData, null, 2))</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  return &lt;div&gt;MrDoughnut&lt;/div&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz">}</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">In the above snippet I use <code class="css-0">array.reduce()</code> in order to determine if it&#x27;s an <code class="css-0">existingItem</code> where i&#x27;ll increment the
<code class="css-0">count</code> or return a new item with a <code class="css-0">count</code> of 1 . Using <code class="css-0">array.find()</code> I loop over the <code class="css-0">items</code> to see if the array
contains the <code class="css-0">item</code> passed from the params in the <em class="css-0">parent</em> <code class="css-0">array.reduce()</code> 😓</p><p class="css-1dsmof0">This gives me an output similar to the below 👇</p><hr class="css-15t1oa2"/><pre class="language-javascript prism-code language-javascript css-1imn0uz"><div class="token-line"><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;tag&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&quot;JavaScript&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;count&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token number css-1baulvz">18</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;tag&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&quot;React&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;count&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token number css-1baulvz">19</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;tag&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&quot;Gatsby&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;count&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token number css-1baulvz">32</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;tag&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&quot;SVG&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;count&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token number css-1baulvz">5</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">{</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;tag&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token string css-1baulvz">&quot;Netlify Functions&quot;</span><span class="token punctuation css-1baulvz">,</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">    </span><span class="token string css-1baulvz">&quot;count&quot;</span><span class="token punctuation css-1baulvz">:</span><span class="token plain css-1baulvz"> </span><span class="token number css-1baulvz">2</span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">  </span><span class="token punctuation css-1baulvz">}</span><span class="token punctuation css-1baulvz">,</span></div></pre><hr class="css-15t1oa2"/><h3 class="css-1cl1f0n"><a href="#step-three" class="css-1pti9z1">Step three</a></h3><p class="css-1dsmof0">Using the new <code class="css-0">count</code> value I need to calculate how this corresponds to the total count from the array which I&#x27;ll use to
create the percentage value for each tag</p><hr class="css-15t1oa2"/><pre class="language-diff prism-code language-diff css-1imn0uz"><div class="token-line"><span class="token plain css-1baulvz">// MrDoughnut.js</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">import React from &quot;react&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz">import { useStaticQuery, graphql } from &quot;gatsby&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">export const MrDoughnut = () =&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  const tagData = useStaticQuery(graphql`</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    query TagsQuery {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      allMdx(filter: { frontmatter: { tags: { ne: null } } }) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        edges {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          node {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            frontmatter {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              tags</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">  `)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .allMdx.edges.reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { tags } = item.node.frontmatter</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      tags.map((tag) =&gt; items.push(tag))</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const existingItem = items.find((index) =&gt; index.tag === item)</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      if (existingItem) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        existingItem.count += 1</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      } else {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        items.push({</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          tag: item,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          count: 1,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        })</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+    .map((item, index, array) =&gt; {</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      const { count } = item</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      const countTotal = array.reduce((a, b) =&gt; a + b.count, 0)</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      const percentage = (count / countTotal) * 100</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      const remainder = 100 - percentage</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      return {</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        ...item,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        percentage: percentage,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        remainder: remainder,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      }</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+    })</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  console.log(JSON.stringify(tagData, null, 2))</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  return &lt;div&gt;MrDoughnut&lt;/div&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz">}</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">In this step I use <code class="css-0">array.map()</code> to loop over the newly constructed <code class="css-0">name: &#x27;&#x27;, count: &#x27;&#x27;</code> object and using
<code class="css-0">array.reduce()</code> I sum up <strong class="css-0">all</strong> the count values for each tag name to create a <code class="css-0">countTotal</code>. A percentage can then be
calculated by dividing the current <code class="css-0">count</code> value by the <code class="css-0">countTotal</code> value and multiplying it by 100. The remainder is
calculated in a similar way by subtracting it from 100. I&#x27;ll need the remainder later when I come to draw the
<code class="css-0">&lt;circle /&gt;</code> element used in the chart.</p><p class="css-1dsmof0">The final return statement spreads the <code class="css-0">item</code> object along with the new <code class="css-0">percentage</code> and <code class="css-0">remainder</code> values.</p><h3 class="css-1cl1f0n"><a href="#step-four" class="css-1pti9z1">Step four</a></h3><p class="css-1dsmof0">Return the values with the largest count first</p><hr class="css-15t1oa2"/><pre class="language-diff prism-code language-diff css-1imn0uz"><div class="token-line"><span class="token plain css-1baulvz">// MrDoughnut.js</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">import React from &quot;react&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz">import { useStaticQuery, graphql } from &quot;gatsby&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">export const MrDoughnut = () =&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  const tagData = useStaticQuery(graphql`</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    query TagsQuery {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      allMdx(filter: { frontmatter: { tags: { ne: null } } }) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        edges {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          node {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            frontmatter {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              tags</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">  `)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .allMdx.edges.reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { tags } = item.node.frontmatter</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      tags.map((tag) =&gt; items.push(tag))</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const existingItem = items.find((index) =&gt; index.tag === item)</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      if (existingItem) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        existingItem.count += 1</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      } else {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        items.push({</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          tag: item,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          count: 1,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        })</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+    .sort((a, b) =&gt; b.count - a.count)</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+    .slice(0, 5)</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token unchanged css-1baulvz">    .map((item, index, array) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { count } = item</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const countTotal = array.reduce((a, b) =&gt; a + b.count, 0)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const percentage = (count / countTotal) * 100</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const remainder = 100 - percentage</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        ...item,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        percentage: percentage,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        remainder: remainder,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    })</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  console.log(JSON.stringify(tagData, null, 2))</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  return &lt;div&gt;MrDoughnut&lt;/div&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz">}</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">Using <code class="css-0">array.sort()</code> I return the array ordered by the largest count in ascending order. <em class="css-0">I&#x27;ve added an
<code class="css-0">array.slice(0,5)</code> because I&#x27;m only concerned with the top five results</em></p><p class="css-1dsmof0">Now that I have the data in the correct shape it&#x27;s time to tackle the Doughnut Chart itself.</p><p class="css-1dsmof0">The general idea is to use <code class="css-0">array.map()</code> again but this time in <code class="css-0">Jsx</code> to loop over each of the tag objects and return a
<code class="css-0">&lt;circle /&gt;</code> for each one.</p><p class="css-1dsmof0">By using a combination of CSS values; <code class="css-0">strokeDashoffset</code> and <code class="css-0">strokeDasharray</code> I&#x27;m able to determine where to start and
end the stroke</p><h2 class="css-1jrgzbm"><a href="#the-chart" class="css-1pti9z1">The Chart</a></h2><p class="css-1dsmof0">Return a circle for each <code class="css-0">tag</code> item and set a stroke color</p><hr class="css-15t1oa2"/><pre class="language-diff prism-code language-diff css-1imn0uz"><div class="token-line"><span class="token plain css-1baulvz">// MrDoughnut.js</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">import React from &quot;react&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz">import { useStaticQuery, graphql } from &quot;gatsby&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">export const MrDoughnut = () =&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  const tagData = useStaticQuery(graphql`</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    query TagsQuery {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      allMdx(filter: { frontmatter: { tags: { ne: null } } }) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        edges {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          node {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            frontmatter {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              tags</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">  `)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .allMdx.edges.reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { tags } = item.node.frontmatter</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      tags.map((tag) =&gt; items.push(tag))</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const existingItem = items.find((index) =&gt; index.tag === item)</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      if (existingItem) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        existingItem.count += 1</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      } else {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        items.push({</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          tag: item,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          count: 1,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        })</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .sort((a, b) =&gt; b.count - a.count)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .slice(0, 5)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .map((item, index, array) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { count } = item</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const countTotal = array.reduce((a, b) =&gt; a + b.count, 0)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const percentage = (count / countTotal) * 100</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const remainder = 100 - percentage</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        ...item,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        percentage: percentage,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        remainder: remainder,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    })</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  console.log(JSON.stringify(tagData, null, 2))</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+ const colors = [&quot;#ff6090&quot;, &quot;#3f51b5&quot;, &quot;#00bcd4&quot;, &quot;#8bc34a&quot;, &quot;#ffc107&quot;]</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token deleted-sign deleted css-1baulvz">-  return &lt;div&gt;MrDoughnut&lt;/div&gt;</span></div><div class="token-line"><span class="token deleted-sign deleted css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+  return (</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+    &lt;div</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      style={{</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        width: 300,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      }}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+    &gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      &lt;svg width=&quot;100%&quot; height=&quot;100%&quot; viewBox=&quot;0 0 40 40&quot;&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        {tagData.map((tag, index) =&gt; {</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          return (</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            &lt;circle</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              key={index}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              cx=&quot;20&quot;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              cy=&quot;20&quot;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              r=&quot;15.91549430918954&quot;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              strokeWidth=&quot;6&quot;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              fill=&quot;transparent&quot;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              stroke={colors[index]}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            /&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          )</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        })}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      &lt;/svg&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+    &lt;/div&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+  )</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token plain css-1baulvz">}</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">In this step I return an <code class="css-0">svg</code> with a <code class="css-0">viewBox</code> property of <code class="css-0">0,0,40,40</code>, to be honest this value doesn&#x27;t really matter
because the <strong class="css-0">s</strong> in <code class="css-0">svg</code> stands for <strong class="css-0">scalable</strong> however, it is important that the <code class="css-0">cx</code> and <code class="css-0">cy</code> values for each
circle are half the <code class="css-0">viewBox</code> value, e.g 20</p><p class="css-1dsmof0">The <code class="css-0">svg</code> has a width and height of 100% which means it will fill 100% of whatever it&#x27;s contained within. In this case I
have a parent <code class="css-0">div</code> with a width of 300</p><p class="css-1dsmof0">The <code class="css-0">r</code> value is where things get a bit <em class="css-0">mathematical</em>. <code class="css-0">r</code> is the
<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/r" target="_blank" rel="noopener" class="css-1pti9z1">radius</a> of the circle.</p><p class="css-1dsmof0">As <a href="https://twitter.com/heyoka" target="_blank" rel="noopener" class="css-1pti9z1">Mark Caron</a> mentions in
<a href="https://medium.com/@heyoka/scratch-made-svg-donut-pie-charts-in-html5-2c587e935d72" target="_blank" rel="noopener" class="css-1pti9z1">this article</a> keeping things human
readable helps with the complexity and basing everything off 100 goes someway to achieving this.</p><p class="css-1dsmof0">The calculation to create the <code class="css-0">r</code> value looks like this <code class="css-0">100/(2π)</code> which roughly translates to 100 divided by 2,
multiplied by pi, where pi is approximately 3.14... or in actual numbers 100 / 6.28</p><p class="css-1dsmof0">For the <code class="css-0">stroke</code> color i&#x27;ve defined an array of colours that&#x27;s the same length as the <code class="css-0">tagData</code></p><p class="css-1dsmof0">The next step is a bit tricky and to prevent the strokes from overlapping I&#x27;m using <code class="css-0">strokeDashoffset</code> and
<code class="css-0">strokeDasharray</code> to determine how much of the circumference of the <code class="css-0">&lt;circle /&gt;</code> the stroke should cover and where the
stroke should start</p><hr class="css-15t1oa2"/><pre class="language-diff prism-code language-diff css-1imn0uz"><div class="token-line"><span class="token plain css-1baulvz">// MrDoughnut.js</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">import React from &quot;react&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz">import { useStaticQuery, graphql } from &quot;gatsby&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">export const MrDoughnut = () =&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  const tagData = useStaticQuery(graphql`</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    query TagsQuery {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      allMdx(filter: { frontmatter: { tags: { ne: null } } }) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        edges {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          node {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            frontmatter {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              tags</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">  `)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .allMdx.edges.reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { tags } = item.node.frontmatter</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      tags.map((tag) =&gt; items.push(tag))</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const existingItem = items.find((index) =&gt; index.tag === item)</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      if (existingItem) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        existingItem.count += 1</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      } else {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        items.push({</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          tag: item,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          count: 1,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        })</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .sort((a, b) =&gt; b.count - a.count)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .slice(0, 5)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .map((item, index, array) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { count } = item</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const countTotal = array.reduce((a, b) =&gt; a + b.count, 0)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const percentage = (count / countTotal) * 100</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const remainder = 100 - percentage</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        ...item,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        percentage: percentage,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        remainder: remainder,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    })</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  console.log(JSON.stringify(tagData, null, 2))</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  const colors = [&quot;#ff6090&quot;, &quot;#3f51b5&quot;, &quot;#00bcd4&quot;, &quot;#8bc34a&quot;, &quot;#ffc107&quot;]</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  return (</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    &lt;div</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      style={{</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        width: 300,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }}</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    &gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      &lt;svg width=&quot;100%&quot; height=&quot;100%&quot; viewBox=&quot;0 0 40 40&quot;&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        {tagData.map((tag, index) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          const { percentage, remainder } = tag</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">          return (</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            &lt;circle</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              key={index}</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              cx=&quot;20&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              cy=&quot;20&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              r=&quot;15.91549430918954&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+             strokeDasharray={`${percentage} ${remainder}`}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+             strokeDashoffset={100 - tagData.slice(0, index).reduce((a, b) =&gt; a + b.percentage, 0) + 25}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token unchanged css-1baulvz">              strokeWidth=&quot;6&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              fill=&quot;transparent&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              stroke={colors[index]}</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            /&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          )</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        })}</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      &lt;/svg&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    &lt;/div&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">  )</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz">}</span></div></pre><hr class="css-15t1oa2"/><p class="css-1dsmof0">Here I&#x27;m using the <code class="css-0">percentage</code> and the <code class="css-0">remainder</code> to determine how much of the circle the stroke should cover and to
determine where the stroke starts. To calculate these values here&#x27;s the formula 👇</p><p class="css-1dsmof0"><code class="css-0">(circumference) - (all preceding segments percentage) + (starting position)</code></p><style data-emotion-css="ddqk15">.css-ddqk15{margin-top:0;margin-bottom:16px;padding-left:24px;list-style:square;}</style><ul class="css-ddqk15"><style data-emotion-css="7y52h0">.css-7y52h0{margin-bottom:4px;}.css-7y52h0 code{color:inherit;background-color:var(--theme-ui-colors-surface,#232140);font-family:monospace;font-size:13px;padding:4px;}.css-7y52h0 code .changed{color:rgb(162,191,252);font-style:italic;}.css-7y52h0 code .deleted{color:rgba(239,83,80,0.56);font-style:italic;}.css-7y52h0 code .inserted,.css-7y52h0 code .attr-name{color:rgb(173,219,103);font-style:italic;}.css-7y52h0 code .comment{color:rgb(99,119,119);font-style:italic;}.css-7y52h0 code .string,.css-7y52h0 code .url{color:rgb(173,219,103);}.css-7y52h0 code .variable{color:rgb(214,222,235);}.css-7y52h0 code .number{color:rgb(247,140,108);}.css-7y52h0 code .builtin,.css-7y52h0 code .char,.css-7y52h0 code .constant,.css-7y52h0 code .function{color:rgb(130,170,255);}.css-7y52h0 code .punctuation{color:rgb(199,146,234);}.css-7y52h0 code .selector,.css-7y52h0 code .doctype{color:rgb(199,146,234);font-style:italic;}.css-7y52h0 code .class-name{color:rgb(255,203,139);}.css-7y52h0 code .tag,.css-7y52h0 code .operator,.css-7y52h0 code .keyword{color:rgb(127,219,202);}.css-7y52h0 code .boolean{color:rgb(255,88,116);}.css-7y52h0 code .property{color:rgb(128,203,196);}.css-7y52h0 code .namespace{color:rgb(178,204,214);}.css-7y52h0 pre{color:#9EFEFF;background-color:#2D2A55;font-family:monospace;border-radius:0;overflow:auto;font-size:13px;padding:16px;}.css-7y52h0 pre .changed{color:rgb(255,238,128);}.css-7y52h0 pre .deleted{color:rgba(239,83,80,0.56);}.css-7y52h0 pre .inserted,.css-7y52h0 pre .attr-name{color:rgb(173,219,103);font-style:italic;}.css-7y52h0 pre .comment{color:rgb(179,98,255);font-style:italic;}.css-7y52h0 pre .string,.css-7y52h0 pre .url{color:rgb(165,255,144);}.css-7y52h0 pre .variable{color:rgb(255,238,128);}.css-7y52h0 pre .number{color:rgb(247,140,108);}.css-7y52h0 pre .builtin,.css-7y52h0 pre .char,.css-7y52h0 pre .constant,.css-7y52h0 pre .function{color:rgb(130,170,255);}.css-7y52h0 pre .punctuation{color:rgb(255,255,255);}.css-7y52h0 pre .selector,.css-7y52h0 pre .doctype{color:rgb(199,146,234);font-style:italic;}.css-7y52h0 pre .class-name{color:rgb(255,203,139);}.css-7y52h0 pre .tag,.css-7y52h0 pre .operator,.css-7y52h0 pre .keyword{color:rgb(127,219,202);}.css-7y52h0 pre .boolean{color:rgb(255,88,116);}.css-7y52h0 pre .property{color:rgb(128,203,196);}.css-7y52h0 pre .namespace{color:rgb(178,204,214);}.css-7y52h0 pre .inserted{color:rgb(173,219,103);}.css-7y52h0 pre .constant{color:rgb(255,98,140);}.css-7y52h0 pre .number,.css-7y52h0 pre .boolean{color:rgb(255,98,140);}.css-7y52h0 pre .attr-name{color:rgb(255,180,84);}.css-7y52h0 pre .keyword,.css-7y52h0 pre .operator,.css-7y52h0 pre .property,.css-7y52h0 pre .namespace,.css-7y52h0 pre .tag,.css-7y52h0 pre .selector,.css-7y52h0 pre .doctype{color:rgb(255,157,0);}.css-7y52h0 pre .builtin,.css-7y52h0 pre .char,.css-7y52h0 pre .constant,.css-7y52h0 pre .function,.css-7y52h0 pre .class-name{color:rgb(250,208,0);}</style><li class="css-7y52h0">The circumference = 100</li><li class="css-7y52h0">All preceding segments percentage = a sum of a slice of the total <code class="css-0">tagData</code> percentage</li><li class="css-7y52h0">The start position = 25 and is to offset the start point for each stroke so it&#x27;s at the top of the circle</li></ul><h2 class="css-1jrgzbm"><a href="#the-legend" class="css-1pti9z1">The legend</a></h2><p class="css-1dsmof0">A lot of charting libraries will plot a title next to each segments to help users identify what each segment represents
along with a value. However, and i&#x27;ve wrestled with this so many times because I like to develop <em class="css-0">mobile first</em> and more
often than not this approach results in text too small to read on smaller screens.</p><p class="css-1dsmof0">Instead, I generally opt for positioning a color coded legend below the chart to ensure the text always remains legible.</p><p class="css-1dsmof0">The complete component now looks like the below 👇 and the <code class="css-0">src</code> can be found
<a href="https://github.com/PaulieScanlon/paulie-dev-2019/tree/master/src/posts/2021/01/MrDoughnut.js" target="_blank" rel="noopener" class="css-1pti9z1">here</a></p><hr class="css-15t1oa2"/><pre class="language-diff prism-code language-diff css-1imn0uz"><div class="token-line"><span class="token plain css-1baulvz">// MrDoughnut.js</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">import React from &quot;react&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz">import { useStaticQuery, graphql } from &quot;gatsby&quot;</span></div><div class="token-line"><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz">export const MrDoughnut = () =&gt; {</span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  const tagData = useStaticQuery(graphql`</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    query TagsQuery {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      allMdx(filter: { frontmatter: { tags: { ne: null } } }) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        edges {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          node {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            frontmatter {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              tags</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">  `)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .allMdx.edges.reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { tags } = item.node.frontmatter</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      tags.map((tag) =&gt; items.push(tag))</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .reduce((items, item) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const existingItem = items.find((index) =&gt; index.tag === item)</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      if (existingItem) {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        existingItem.count += 1</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      } else {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        items.push({</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          tag: item,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          count: 1,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        })</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">      return items</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    }, [])</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .sort((a, b) =&gt; b.count - a.count)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .slice(0, 5)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    .map((item, index, array) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const { count } = item</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const countTotal = array.reduce((a, b) =&gt; a + b.count, 0)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const percentage = (count / countTotal) * 100</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      const remainder = 100 - percentage</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      return {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        ...item,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        percentage: percentage,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        remainder: remainder,</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">    })</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token deleted-sign deleted css-1baulvz">- console.log(JSON.stringify(tagData, null, 2))</span></div><div class="token-line"><span class="token deleted-sign deleted css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  const colors = [&quot;#ff6090&quot;, &quot;#3f51b5&quot;, &quot;#00bcd4&quot;, &quot;#8bc34a&quot;, &quot;#ffc107&quot;]</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">  return (</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+    &lt;div</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      style={{</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        margin: &quot;0 auto&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        width: 300,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+      }}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+    &gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token unchanged css-1baulvz">     &lt;div</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      style={{</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        position: &#x27;relative&#x27;,</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token deleted-sign deleted css-1baulvz">-       width: 300</span></div><div class="token-line"><span class="token deleted-sign deleted css-1baulvz"></span><span class="token unchanged css-1baulvz">       }}</span></div><div class="token-line"><span class="token unchanged css-1baulvz">      &gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        &lt;svg width=&quot;100%&quot; height=&quot;100%&quot; viewBox=&quot;0 0 40 40&quot;&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          {tagData.map((tag, index) =&gt; {</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            const { percentage, remainder } = tag</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz"></span></div><div class="token-line"><span class="token plain css-1baulvz"></span><span class="token unchanged css-1baulvz">            return (</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              &lt;circle</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                key={index}</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                cx=&quot;20&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                cy=&quot;20&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                r=&quot;15.91549430918954&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                strokeDasharray={`${percentage} ${remainder}`}</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                strokeDashoffset={</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                  100 -</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                  tagData</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                    .slice(0, index)</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                    .reduce((a, b) =&gt; a + b.percentage, 0) +</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                  25</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                }</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                strokeWidth=&quot;6&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                fill=&quot;transparent&quot;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">                stroke={colors[index]}</span></div><div class="token-line"><span class="token unchanged css-1baulvz">              /&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz">            )</span></div><div class="token-line"><span class="token unchanged css-1baulvz">          })}</span></div><div class="token-line"><span class="token unchanged css-1baulvz">        &lt;/svg&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+       &lt;div</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+         style={{</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            position: &quot;absolute&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            transform: &quot;translate(-50%, -50%)&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            top: &quot;50%&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            left: &quot;50%&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            textAlign: &quot;center&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          }}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        &gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          &lt;div</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            style={{</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              fontSize: &quot;20px&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              fontWeight: &quot;bold&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              lineHeight: &quot;14px&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            }}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          &gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            Top 5 tags</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          &lt;/div&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          &lt;a</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            href=&quot;https://paulie.dev&quot;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            target=&quot;_blank&quot;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            rel=&quot;noreferrer&quot;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            style={{ color: &quot;#ff6090&quot; }}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          &gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            paulie.dev</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          &lt;/a&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        &lt;/div&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token unchanged css-1baulvz">      &lt;/div&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+      &lt;div&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        {tagData.map((item, index) =&gt; {</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          const { tag, percentage } = item</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          return (</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            &lt;div</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              key={index}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              style={{</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                alignItems: &quot;center&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                display: &quot;grid&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                gridTemplateColumns: &quot;1fr auto&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              }}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            &gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              &lt;div</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                style={{</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                  alignItems: &quot;center&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                  display: &quot;grid&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                  gridGap: 8,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                  gridTemplateColumns: &quot;12px auto&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                }}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              &gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                &lt;div</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                  style={{</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                    width: 12,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                    height: 12,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                    borderRadius: &quot;100%&quot;,</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                    backgroundColor: colors[index],</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                  }}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                /&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+                &lt;div&gt;{tag}&lt;/div&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              &lt;/div&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+              &lt;div&gt;{`${Math.abs(percentage).toFixed(2)}%`}&lt;/div&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+            &lt;/div&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+          )</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz">+        })}</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token unchanged css-1baulvz">      &lt;/div&gt;</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token inserted-sign inserted css-1baulvz">+    &lt;/div&gt;</span></div><div class="token-line"><span class="token inserted-sign inserted css-1baulvz"></span><span class="token unchanged css-1baulvz">  )</span></div><div class="token-line"><span class="token unchanged css-1baulvz"></span><span class="token plain css-1baulvz">}</span></div></pre><hr class="css-15t1oa2"/><h2 class="css-1jrgzbm"><a href="#the-result" class="css-1pti9z1">The Result</a></h2><p class="css-1dsmof0">Finally, here&#x27;s the result 🦜</p><div style="margin:0 auto;width:300px"><div style="position:relative"><svg width="100%" height="100%" viewBox="0 0 40 40"><circle cx="20" cy="20" r="15.91549430918954" stroke-dasharray="31.57894736842105 68.42105263157895" stroke-dashoffset="125" stroke-width="6" fill="transparent" stroke="#ff6090"></circle><circle cx="20" cy="20" r="15.91549430918954" stroke-dasharray="30.263157894736842 69.73684210526315" stroke-dashoffset="93.42105263157895" stroke-width="6" fill="transparent" stroke="#3f51b5"></circle><circle cx="20" cy="20" r="15.91549430918954" stroke-dasharray="22.36842105263158 77.63157894736842" stroke-dashoffset="63.15789473684211" stroke-width="6" fill="transparent" stroke="#00bcd4"></circle><circle cx="20" cy="20" r="15.91549430918954" stroke-dasharray="9.210526315789473 90.78947368421052" stroke-dashoffset="40.789473684210535" stroke-width="6" fill="transparent" stroke="#8bc34a"></circle><circle cx="20" cy="20" r="15.91549430918954" stroke-dasharray="6.578947368421052 93.42105263157895" stroke-dashoffset="31.57894736842107" stroke-width="6" fill="transparent" stroke="#ffc107"></circle></svg><div style="position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;text-align:center"><div style="font-size:20px;font-weight:bold;line-height:14px">Top 5 tags</div><a href="https://paulie.dev" target="_blank" rel="noreferrer" style="color:#ff6090">paulie.dev</a></div></div><div><div style="align-items:center;display:grid;grid-template-columns:1fr auto"><div style="align-items:center;display:grid;grid-gap:8px;grid-template-columns:12px auto"><div style="width:12px;height:12px;border-radius:100%;background-color:#ff6090"></div><div>Gatsby</div></div><div>31.58%</div></div><div style="align-items:center;display:grid;grid-template-columns:1fr auto"><div style="align-items:center;display:grid;grid-gap:8px;grid-template-columns:12px auto"><div style="width:12px;height:12px;border-radius:100%;background-color:#3f51b5"></div><div>React</div></div><div>30.26%</div></div><div style="align-items:center;display:grid;grid-template-columns:1fr auto"><div style="align-items:center;display:grid;grid-gap:8px;grid-template-columns:12px auto"><div style="width:12px;height:12px;border-radius:100%;background-color:#00bcd4"></div><div>JavaScript</div></div><div>22.37%</div></div><div style="align-items:center;display:grid;grid-template-columns:1fr auto"><div style="align-items:center;display:grid;grid-gap:8px;grid-template-columns:12px auto"><div style="width:12px;height:12px;border-radius:100%;background-color:#8bc34a"></div><div>Theme UI</div></div><div>9.21%</div></div><div style="align-items:center;display:grid;grid-template-columns:1fr auto"><div style="align-items:center;display:grid;grid-gap:8px;grid-template-columns:12px auto"><div style="width:12px;height:12px;border-radius:100%;background-color:#ffc107"></div><div>MDX</div></div><div>6.58%</div></div></div></div><hr class="css-15t1oa2"/><hr class="css-15t1oa2"/><style data-emotion-css="vurnku">.css-vurnku{box-sizing:border-box;margin:0;min-width:0;}</style><div class="css-vurnku">If you&#x27;ve enjoyed this post I&#x27;d love to hear from you:<!-- --> <a href="https://twitter.com/PaulieScanlon" target="_blank" class="css-1pti9z1">@PaulieScanlon</a></div><hr class="css-15t1oa2"/><a href="https://ko-fi.com/P5P31B7G8" target="_blank" class="css-1pti9z1"><style data-emotion-css="9taffg">.css-9taffg{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;}</style><img src="https://www.ko-fi.com/img/githubbutton_sm.svg" class="css-9taffg"/></a></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-76055934-4', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/2021/01/react-svg-doughnut-chart/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-b9fea18650954a392dec.js"],"app":["/app-1156a7defb479b22e254.js"],"component---node-modules-pauliescanlon-gatsby-theme-terminal-src-layouts-source-layout-js":["/component---node-modules-pauliescanlon-gatsby-theme-terminal-src-layouts-source-layout-js-33fa87acf1e354ee3582.js"],"component---node-modules-pauliescanlon-gatsby-theme-terminal-src-pages-404-js":["/component---node-modules-pauliescanlon-gatsby-theme-terminal-src-pages-404-js-e4510e0c28ac8578ada6.js"],"component---node-modules-pauliescanlon-gatsby-theme-terminal-src-pages-dummy-page-mdx":["/component---node-modules-pauliescanlon-gatsby-theme-terminal-src-pages-dummy-page-mdx-c189e51e65bb676e1941.js"],"component---src-pages-about-mdx":["/component---src-pages-about-mdx-33d2fbaca18062dc69f6.js"],"component---src-pages-dashboard-mdx":["/component---src-pages-dashboard-mdx-44f1445f27b747c2742c.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx-37cb781696739bf7e02f.js"],"component---src-pages-posts-mdx":["/component---src-pages-posts-mdx-1f62e36698b3074f9575.js"],"component---src-pages-writing-mdx":["/component---src-pages-writing-mdx-62fde53a35bc5ac64c49.js"]};/*]]>*/</script><script src="/polyfill-b9fea18650954a392dec.js" nomodule=""></script><script src="/component---node-modules-pauliescanlon-gatsby-theme-terminal-src-layouts-source-layout-js-33fa87acf1e354ee3582.js" async=""></script><script src="/e746256f0bd173c9e62f05f8ee5a1711802fea06-5ec41632f3b7b7777480.js" async=""></script><script src="/app-1156a7defb479b22e254.js" async=""></script><script src="/4544e8b5-d43da755820dd1c1cf17.js" async=""></script><script src="/3fdc7b2a-5f196eb3bd8f933faf2a.js" async=""></script><script src="/framework-f529910135bad2ebbecb.js" async=""></script><script src="/webpack-runtime-726102780cf60763912e.js" async=""></script></body></html>